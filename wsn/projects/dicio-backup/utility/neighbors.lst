   1               		.file	"neighbors.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 353               	.global	init_neighbor_table
 355               	init_neighbor_table:
 356               		.stabd	46,0,0
   1:../../../projects/dicio/utility/neighbors.c **** /**
   2:../../../projects/dicio/utility/neighbors.c ****  * 18-748 Wireless Sensor Networks
   3:../../../projects/dicio/utility/neighbors.c ****  * Spring 2016
   4:../../../projects/dicio/utility/neighbors.c ****  * Lab 3: Multi-Hop Communication
   5:../../../projects/dicio/utility/neighbors.c ****  * neighbors.c
   6:../../../projects/dicio/utility/neighbors.c ****  * Kedar Amladi // kamladi. Daniel Santoro // ddsantor. Adam Selevan // aselevan.
   7:../../../projects/dicio/utility/neighbors.c ****  */
   8:../../../projects/dicio/utility/neighbors.c ****  
   9:../../../projects/dicio/utility/neighbors.c **** #include <neighbors.h>
  10:../../../projects/dicio/utility/neighbors.c **** 
  11:../../../projects/dicio/utility/neighbors.c **** /*** NEIGHBOR TABLE OPERATIONS ***/
  12:../../../projects/dicio/utility/neighbors.c **** /**
  13:../../../projects/dicio/utility/neighbors.c ****  * init_neighbor_table
  14:../../../projects/dicio/utility/neighbors.c ****  */
  15:../../../projects/dicio/utility/neighbors.c **** void init_neighbor_table(neighbor_table_t *nt) {
 358               	.LM0:
 359               	.LFBB1:
 360               	/* prologue: function */
 361               	/* frame size = 0 */
 362               	/* stack size = 0 */
 363               	.L__stack_usage = 0
 364 0000 FC01      		movw r30,r24
  16:../../../projects/dicio/utility/neighbors.c ****     nt->size = 0;
 366               	.LM1:
 367 0002 1082      		st Z,__zero_reg__
 368               	.LBB2:
  17:../../../projects/dicio/utility/neighbors.c **** 
  18:../../../projects/dicio/utility/neighbors.c ****     // need to actually force id values to 0 because when we send our the neighbor packet...
  19:../../../projects/dicio/utility/neighbors.c ****     // we send all 4 items. Therefore an old value can still be in [3] but the size could be 2.
  20:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < MAX_NEIGHBOR_TABLE; i++)
  21:../../../projects/dicio/utility/neighbors.c ****     {
  22:../../../projects/dicio/utility/neighbors.c ****         nt->neighbors[i].id = 0;
 370               	.LM2:
 371 0004 1282      		std Z+2,__zero_reg__
 372 0006 1382      		std Z+3,__zero_reg__
 373 0008 1482      		std Z+4,__zero_reg__
 374 000a 0895      		ret
 375               	.LBE2:
 377               	.Lscope1:
 379               		.stabd	78,0,0
 383               	.global	in_neighbor_table
 385               	in_neighbor_table:
 386               		.stabd	46,0,0
  23:../../../projects/dicio/utility/neighbors.c ****     }
  24:../../../projects/dicio/utility/neighbors.c **** }
  25:../../../projects/dicio/utility/neighbors.c **** 
  26:../../../projects/dicio/utility/neighbors.c **** /**
  27:../../../projects/dicio/utility/neighbors.c ****  * id_in_neighbor_table:
  28:../../../projects/dicio/utility/neighbors.c ****  *  - determine if node_address is already in the neighbor table
  29:../../../projects/dicio/utility/neighbors.c ****  *
  30:../../../projects/dicio/utility/neighbors.c ****  * @param nt - neighbor table to search
  31:../../../projects/dicio/utility/neighbors.c ****  * @param node_address - node to search for
  32:../../../projects/dicio/utility/neighbors.c ****  * @returns '1' if node is found, '-1' otherwise
  33:../../../projects/dicio/utility/neighbors.c ****  */
  34:../../../projects/dicio/utility/neighbors.c **** int8_t in_neighbor_table(neighbor_table_t *nt, uint8_t node_address) {
 388               	.LM3:
 389               	.LFBB2:
 390               	/* prologue: function */
 391               	/* frame size = 0 */
 392               	/* stack size = 0 */
 393               	.L__stack_usage = 0
 394               	.LBB3:
  35:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < nt->size; i++) {
 396               	.LM4:
 397 000c FC01      		movw r30,r24
 398 000e 2081      		ld r18,Z
 399 0010 0296      		adiw r24,2
 400 0012 FC01      		movw r30,r24
 401               	.L3:
 402 0014 3E2F      		mov r19,r30
 403 0016 381B      		sub r19,r24
 405               	.LM5:
 406 0018 3217      		cp r19,r18
 407 001a 00F4      		brsh .L8
  36:../../../projects/dicio/utility/neighbors.c ****         if(nt->neighbors[i].id == node_address) {
 409               	.LM6:
 410 001c 3191      		ld r19,Z+
 411 001e 3613      		cpse r19,r22
 412 0020 00C0      		rjmp .L3
  37:../../../projects/dicio/utility/neighbors.c ****             return 1;
 414               	.LM7:
 415 0022 81E0      		ldi r24,lo8(1)
 416               	.LBE3:
  38:../../../projects/dicio/utility/neighbors.c ****         }
  39:../../../projects/dicio/utility/neighbors.c ****     }
  40:../../../projects/dicio/utility/neighbors.c ****     return -1;
  41:../../../projects/dicio/utility/neighbors.c **** }
 418               	.LM8:
 419 0024 0895      		ret
 420               	.L8:
  40:../../../projects/dicio/utility/neighbors.c **** }
 422               	.LM9:
 423 0026 8FEF      		ldi r24,lo8(-1)
 424               	.LBB4:
 425 0028 0895      		ret
 426               	.LBE4:
 428               	.Lscope2:
 430               		.stabd	78,0,0
 431               		.section	.rodata.str1.1,"aMS",@progbits,1
 432               	.LC0:
 433 0000 6E65 6967 		.string	"neighbor table size %d\r\n"
 433      6862 6F72 
 433      2074 6162 
 433      6C65 2073 
 433      697A 6520 
 434               	.LC1:
 435 0019 6E65 7720 		.string	"new neighbor %d\r\n"
 435      6E65 6967 
 435      6862 6F72 
 435      2025 640D 
 435      0A00 
 436               		.text
 440               	.global	add_neighbor
 442               	add_neighbor:
 443               		.stabd	46,0,0
  42:../../../projects/dicio/utility/neighbors.c **** 
  43:../../../projects/dicio/utility/neighbors.c **** void add_neighbor(neighbor_table_t *nt, neighbor_t new_neighbor) {
 445               	.LM10:
 446               	.LFBB3:
 447 002a 1F93      		push r17
 448 002c CF93      		push r28
 449 002e DF93      		push r29
 450               	/* prologue: function */
 451               	/* frame size = 0 */
 452               	/* stack size = 3 */
 453               	.L__stack_usage = 3
 454 0030 EC01      		movw r28,r24
 455 0032 162F      		mov r17,r22
  44:../../../projects/dicio/utility/neighbors.c ****     uint8_t in_nt = in_neighbor_table(nt, new_neighbor.id);
  45:../../../projects/dicio/utility/neighbors.c ****     printf("neighbor table size %d\r\n", nt->size);
 457               	.LM11:
 458 0034 8881      		ld r24,Y
 459 0036 1F92      		push __zero_reg__
 460 0038 8F93      		push r24
 461 003a 80E0      		ldi r24,lo8(.LC0)
 462 003c 90E0      		ldi r25,hi8(.LC0)
 463 003e 9F93      		push r25
 464 0040 8F93      		push r24
 465 0042 0E94 0000 		call printf
  46:../../../projects/dicio/utility/neighbors.c ****     if((nt->size < MAX_NEIGHBOR_TABLE) && (in_nt != -1))
 467               	.LM12:
 468 0046 0F90      		pop __tmp_reg__
 469 0048 0F90      		pop __tmp_reg__
 470 004a 0F90      		pop __tmp_reg__
 471 004c 0F90      		pop __tmp_reg__
 472 004e 8881      		ld r24,Y
 473 0050 8330      		cpi r24,lo8(3)
 474 0052 00F4      		brsh .L9
  47:../../../projects/dicio/utility/neighbors.c ****     {
  48:../../../projects/dicio/utility/neighbors.c ****         printf("new neighbor %d\r\n", new_neighbor.id);
 476               	.LM13:
 477 0054 1F92      		push __zero_reg__
 478 0056 1F93      		push r17
 479 0058 80E0      		ldi r24,lo8(.LC1)
 480 005a 90E0      		ldi r25,hi8(.LC1)
 481 005c 9F93      		push r25
 482 005e 8F93      		push r24
 483 0060 0E94 0000 		call printf
  49:../../../projects/dicio/utility/neighbors.c ****         nt->neighbors[nt->size] = new_neighbor;
 485               	.LM14:
 486 0064 8881      		ld r24,Y
 487 0066 FE01      		movw r30,r28
 488 0068 E80F      		add r30,r24
 489 006a F11D      		adc r31,__zero_reg__
 490 006c 1283      		std Z+2,r17
  50:../../../projects/dicio/utility/neighbors.c ****         nt->size++;
 492               	.LM15:
 493 006e 8881      		ld r24,Y
 494 0070 8F5F      		subi r24,lo8(-(1))
 495 0072 8883      		st Y,r24
 496 0074 0F90      		pop __tmp_reg__
 497 0076 0F90      		pop __tmp_reg__
 498 0078 0F90      		pop __tmp_reg__
 499 007a 0F90      		pop __tmp_reg__
 500               	.L9:
 501               	/* epilogue start */
  51:../../../projects/dicio/utility/neighbors.c ****     }
  52:../../../projects/dicio/utility/neighbors.c **** }
 503               	.LM16:
 504 007c DF91      		pop r29
 505 007e CF91      		pop r28
 506 0080 1F91      		pop r17
 507 0082 0895      		ret
 509               	.Lscope3:
 511               		.stabd	78,0,0
 515               	.global	get_neighbor_table_index
 517               	get_neighbor_table_index:
 518               		.stabd	46,0,0
  53:../../../projects/dicio/utility/neighbors.c **** 
  54:../../../projects/dicio/utility/neighbors.c **** /**
  55:../../../projects/dicio/utility/neighbors.c ****  * get_neighbor_table_index:
  56:../../../projects/dicio/utility/neighbors.c ****  *  - return the index of node_address in the neighbor table nt.
  57:../../../projects/dicio/utility/neighbors.c ****  *
  58:../../../projects/dicio/utility/neighbors.c ****  * @param nt - neighbor table to search
  59:../../../projects/dicio/utility/neighbors.c ****  * @param node_address - node address to be searched for
  60:../../../projects/dicio/utility/neighbors.c ****  * @returns index of neighbor if found, '-1' otherwise
  61:../../../projects/dicio/utility/neighbors.c ****  */
  62:../../../projects/dicio/utility/neighbors.c **** int8_t get_neighbor_table_index(neighbor_table_t *nt, uint8_t node_address) {
 520               	.LM17:
 521               	.LFBB4:
 522               	/* prologue: function */
 523               	/* frame size = 0 */
 524               	/* stack size = 0 */
 525               	.L__stack_usage = 0
 526               	.LBB5:
  63:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < nt->size; i++) {
 528               	.LM18:
 529 0084 FC01      		movw r30,r24
 530 0086 2081      		ld r18,Z
 531 0088 3296      		adiw r30,2
 532 008a 80E0      		ldi r24,0
 533               	.L12:
 535               	.LM19:
 536 008c 8217      		cp r24,r18
 537 008e 01F0      		breq .L16
  64:../../../projects/dicio/utility/neighbors.c ****         if(nt->neighbors[i].id == node_address) {
 539               	.LM20:
 540 0090 9191      		ld r25,Z+
 541 0092 9617      		cp r25,r22
 542 0094 01F0      		breq .L14
  63:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < nt->size; i++) {
 544               	.LM21:
 545 0096 8F5F      		subi r24,lo8(-(1))
 546 0098 00C0      		rjmp .L12
 547               	.L16:
 548               	.LBE5:
  65:../../../projects/dicio/utility/neighbors.c ****             return i;
  66:../../../projects/dicio/utility/neighbors.c ****         }
  67:../../../projects/dicio/utility/neighbors.c ****     }
  68:../../../projects/dicio/utility/neighbors.c ****     return -1;
 550               	.LM22:
 551 009a 8FEF      		ldi r24,lo8(-1)
 552               	.L14:
  69:../../../projects/dicio/utility/neighbors.c **** }
 554               	.LM23:
 555 009c 0895      		ret
 560               	.Lscope4:
 562               		.stabd	78,0,0
 563               		.section	.rodata.str1.1
 564               	.LC2:
 565 002b 2564 00   		.string	"%d"
 566               	.LC3:
 567 002e 2C20 00   		.string	", "
 568               	.LC4:
 569 0031 5D0D 00   		.string	"]\r"
 570               		.text
 573               	.global	print_neighbor_table
 575               	print_neighbor_table:
 576               		.stabd	46,0,0
  70:../../../projects/dicio/utility/neighbors.c **** 
  71:../../../projects/dicio/utility/neighbors.c **** /**
  72:../../../projects/dicio/utility/neighbors.c ****  * add_id_to_neighbor_table:
  73:../../../projects/dicio/utility/neighbors.c ****  *  - add new_neighbor to the neighbor table
  74:../../../projects/dicio/utility/neighbors.c ****  *
  75:../../../projects/dicio/utility/neighbors.c ****  * @returns '1' if neighbor added, '-1' otherwise
  76:../../../projects/dicio/utility/neighbors.c ****  */
  77:../../../projects/dicio/utility/neighbors.c **** /*int8_t add_to_neighbor_table(neighbor_table_t *nt, neighbor_t new_neighbor) {
  78:../../../projects/dicio/utility/neighbors.c ****     if((nt->size < MAX_NEIGHBOR_TABLE) && (in_neighbor_table(nt, new_neighbor.id) == -1)) {
  79:../../../projects/dicio/utility/neighbors.c ****         uint8_t index = nt->size;
  80:../../../projects/dicio/utility/neighbors.c ****         nt->size++;
  81:../../../projects/dicio/utility/neighbors.c ****         nt->neighbors[index].id = new_neighbor.id;
  82:../../../projects/dicio/utility/neighbors.c ****         return 1;
  83:../../../projects/dicio/utility/neighbors.c ****     }
  84:../../../projects/dicio/utility/neighbors.c ****     return -1;
  85:../../../projects/dicio/utility/neighbors.c **** }*
  86:../../../projects/dicio/utility/neighbors.c **** 
  87:../../../projects/dicio/utility/neighbors.c **** /**
  88:../../../projects/dicio/utility/neighbors.c ****  * Print a neighbor table:
  89:../../../projects/dicio/utility/neighbors.c ****  */
  90:../../../projects/dicio/utility/neighbors.c **** void print_neighbor_table(neighbor_table_t *nt) {
 578               	.LM24:
 579               	.LFBB5:
 580 009e AF92      		push r10
 581 00a0 BF92      		push r11
 582 00a2 DF92      		push r13
 583 00a4 EF92      		push r14
 584 00a6 FF92      		push r15
 585 00a8 0F93      		push r16
 586 00aa 1F93      		push r17
 587 00ac CF93      		push r28
 588 00ae DF93      		push r29
 589               	/* prologue: function */
 590               	/* frame size = 0 */
 591               	/* stack size = 9 */
 592               	.L__stack_usage = 9
 593 00b0 EC01      		movw r28,r24
  91:../../../projects/dicio/utility/neighbors.c ****     printf("[");
 595               	.LM25:
 596 00b2 8BE5      		ldi r24,lo8(91)
 597 00b4 90E0      		ldi r25,0
 598 00b6 0E94 0000 		call putchar
 599               	.LBB6:
  92:../../../projects/dicio/utility/neighbors.c ****     for (uint8_t i=0; i < nt->size; i++) {
 601               	.LM26:
 602 00ba D12C      		mov r13,__zero_reg__
 603               	.LBB7:
  93:../../../projects/dicio/utility/neighbors.c ****         uint8_t node_id = nt->neighbors[i].id;
  94:../../../projects/dicio/utility/neighbors.c ****         printf("%d", node_id);
 605               	.LM27:
 606 00bc 00E0      		ldi r16,lo8(.LC2)
 607 00be 10E0      		ldi r17,hi8(.LC2)
  95:../../../projects/dicio/utility/neighbors.c ****         if (i < (nt->size-1))
  96:../../../projects/dicio/utility/neighbors.c ****             printf(", ");
 609               	.LM28:
 610 00c0 80E0      		ldi r24,lo8(.LC3)
 611 00c2 E82E      		mov r14,r24
 612 00c4 80E0      		ldi r24,hi8(.LC3)
 613 00c6 F82E      		mov r15,r24
 614               	.L18:
 615               	.LBE7:
  92:../../../projects/dicio/utility/neighbors.c ****         uint8_t node_id = nt->neighbors[i].id;
 617               	.LM29:
 618 00c8 8881      		ld r24,Y
 619 00ca D816      		cp r13,r24
 620 00cc 00F4      		brsh .L21
 621               	.LBB8:
  93:../../../projects/dicio/utility/neighbors.c ****         uint8_t node_id = nt->neighbors[i].id;
 623               	.LM30:
 624 00ce AD2C      		mov r10,r13
 625 00d0 B12C      		mov r11,__zero_reg__
 626 00d2 FE01      		movw r30,r28
 627 00d4 EA0D      		add r30,r10
 628 00d6 FB1D      		adc r31,r11
  94:../../../projects/dicio/utility/neighbors.c ****         if (i < (nt->size-1))
 630               	.LM31:
 631 00d8 8281      		ldd r24,Z+2
 632 00da 1F92      		push __zero_reg__
 633 00dc 8F93      		push r24
 634 00de 1F93      		push r17
 635 00e0 0F93      		push r16
 636 00e2 0E94 0000 		call printf
  95:../../../projects/dicio/utility/neighbors.c ****         if (i < (nt->size-1))
 638               	.LM32:
 639 00e6 2881      		ld r18,Y
 640 00e8 30E0      		ldi r19,0
 641 00ea 2150      		subi r18,1
 642 00ec 3109      		sbc r19,__zero_reg__
 643 00ee 0F90      		pop __tmp_reg__
 644 00f0 0F90      		pop __tmp_reg__
 645 00f2 0F90      		pop __tmp_reg__
 646 00f4 0F90      		pop __tmp_reg__
 647 00f6 A216      		cp r10,r18
 648 00f8 B306      		cpc r11,r19
 649 00fa 04F4      		brge .L19
 651               	.LM33:
 652 00fc FF92      		push r15
 653 00fe EF92      		push r14
 654 0100 0E94 0000 		call printf
 655 0104 0F90      		pop __tmp_reg__
 656 0106 0F90      		pop __tmp_reg__
 657               	.L19:
 658               	.LBE8:
  92:../../../projects/dicio/utility/neighbors.c ****         uint8_t node_id = nt->neighbors[i].id;
 660               	.LM34:
 661 0108 D394      		inc r13
 662 010a 00C0      		rjmp .L18
 663               	.L21:
 664               	.LBE6:
  97:../../../projects/dicio/utility/neighbors.c ****     }
  98:../../../projects/dicio/utility/neighbors.c ****     printf("]\r\n");
 666               	.LM35:
 667 010c 80E0      		ldi r24,lo8(.LC4)
 668 010e 90E0      		ldi r25,hi8(.LC4)
 669               	/* epilogue start */
  99:../../../projects/dicio/utility/neighbors.c **** }
 671               	.LM36:
 672 0110 DF91      		pop r29
 673 0112 CF91      		pop r28
 674 0114 1F91      		pop r17
 675 0116 0F91      		pop r16
 676 0118 FF90      		pop r15
 677 011a EF90      		pop r14
 678 011c DF90      		pop r13
 679 011e BF90      		pop r11
 680 0120 AF90      		pop r10
  98:../../../projects/dicio/utility/neighbors.c **** }
 682               	.LM37:
 683 0122 0C94 0000 		jmp puts
 688               	.Lscope5:
 690               		.stabd	78,0,0
 694               	.global	in_neighbor_graph
 696               	in_neighbor_graph:
 697               		.stabd	46,0,0
 100:../../../projects/dicio/utility/neighbors.c **** 
 101:../../../projects/dicio/utility/neighbors.c **** /*** NEIGHBOR GRAPH OPERATIONS ***/
 102:../../../projects/dicio/utility/neighbors.c **** /**
 103:../../../projects/dicio/utility/neighbors.c ****  * id_in_neighbor_graph:
 104:../../../projects/dicio/utility/neighbors.c ****  *  - determine if node_address is in the neighbor graph
 105:../../../projects/dicio/utility/neighbors.c ****  *
 106:../../../projects/dicio/utility/neighbors.c ****  * @param ng - neighbor graph to be searched
 107:../../../projects/dicio/utility/neighbors.c ****  * @param node_address - node address to be searched for
 108:../../../projects/dicio/utility/neighbors.c ****  * @returns '1' if the node is found, '-1' otherwise
 109:../../../projects/dicio/utility/neighbors.c ****  */
 110:../../../projects/dicio/utility/neighbors.c **** int8_t in_neighbor_graph(neighbor_graph_t *ng, uint8_t node_address) {
 699               	.LM38:
 700               	.LFBB6:
 701               	/* prologue: function */
 702               	/* frame size = 0 */
 703               	/* stack size = 0 */
 704               	.L__stack_usage = 0
 705               	.LBB9:
 111:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < ng->size; i++) {
 707               	.LM39:
 708 0126 FC01      		movw r30,r24
 709 0128 3081      		ld r19,Z
 710 012a 0296      		adiw r24,2
 711 012c 20E0      		ldi r18,0
 712               	.L23:
 714               	.LM40:
 715 012e 2317      		cp r18,r19
 716 0130 01F0      		breq .L27
 717 0132 0596      		adiw r24,5
 718 0134 FC01      		movw r30,r24
 719 0136 3597      		sbiw r30,5
 112:../../../projects/dicio/utility/neighbors.c ****         if(ng->neighbor_tables[i].origin == node_address) {
 721               	.LM41:
 722 0138 4081      		ld r20,Z
 723 013a 4617      		cp r20,r22
 724 013c 01F0      		breq .L26
 111:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < ng->size; i++) {
 726               	.LM42:
 727 013e 2F5F      		subi r18,lo8(-(1))
 728 0140 00C0      		rjmp .L23
 729               	.L27:
 730               	.LBE9:
 113:../../../projects/dicio/utility/neighbors.c ****             return 1;
 114:../../../projects/dicio/utility/neighbors.c ****         }
 115:../../../projects/dicio/utility/neighbors.c ****     }
 116:../../../projects/dicio/utility/neighbors.c ****     return -1;
 732               	.LM43:
 733 0142 8FEF      		ldi r24,lo8(-1)
 734               	.LBB10:
 735 0144 0895      		ret
 736               	.L26:
 113:../../../projects/dicio/utility/neighbors.c ****             return 1;
 738               	.LM44:
 739 0146 81E0      		ldi r24,lo8(1)
 740               	.LBE10:
 117:../../../projects/dicio/utility/neighbors.c **** }
 742               	.LM45:
 743 0148 0895      		ret
 751               	.Lscope6:
 753               		.stabd	78,0,0
 757               	.global	get_neighbor_graph_index
 759               	get_neighbor_graph_index:
 760               		.stabd	46,0,0
 118:../../../projects/dicio/utility/neighbors.c **** 
 119:../../../projects/dicio/utility/neighbors.c **** /**
 120:../../../projects/dicio/utility/neighbors.c ****  * get_neighbor_graph_index:
 121:../../../projects/dicio/utility/neighbors.c ****  *  - return the index of node_address in the neighbor graph
 122:../../../projects/dicio/utility/neighbors.c ****  *
 123:../../../projects/dicio/utility/neighbors.c ****  * @param ng - neighbor graph to be searched
 124:../../../projects/dicio/utility/neighbors.c ****  * @param node_adress - node to be searched for
 125:../../../projects/dicio/utility/neighbors.c ****  * @returns index of node if found, '-1' otherwise
 126:../../../projects/dicio/utility/neighbors.c ****  */
 127:../../../projects/dicio/utility/neighbors.c **** int8_t get_neighbor_graph_index(neighbor_graph_t *ng, uint8_t node_address) {
 762               	.LM46:
 763               	.LFBB7:
 764               	/* prologue: function */
 765               	/* frame size = 0 */
 766               	/* stack size = 0 */
 767               	.L__stack_usage = 0
 768               	.LBB11:
 128:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i< ng->size; i++) {
 770               	.LM47:
 771 014a FC01      		movw r30,r24
 772 014c 4081      		ld r20,Z
 773 014e 9C01      		movw r18,r24
 774 0150 2E5F      		subi r18,-2
 775 0152 3F4F      		sbci r19,-1
 776 0154 80E0      		ldi r24,0
 777               	.L29:
 779               	.LM48:
 780 0156 8417      		cp r24,r20
 781 0158 01F0      		breq .L33
 782 015a 2B5F      		subi r18,-5
 783 015c 3F4F      		sbci r19,-1
 784 015e F901      		movw r30,r18
 785 0160 3597      		sbiw r30,5
 129:../../../projects/dicio/utility/neighbors.c ****         if(ng->neighbor_tables[i].origin == node_address) {
 787               	.LM49:
 788 0162 9081      		ld r25,Z
 789 0164 9617      		cp r25,r22
 790 0166 01F0      		breq .L31
 128:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i< ng->size; i++) {
 792               	.LM50:
 793 0168 8F5F      		subi r24,lo8(-(1))
 794 016a 00C0      		rjmp .L29
 795               	.L33:
 796               	.LBE11:
 130:../../../projects/dicio/utility/neighbors.c ****             return i;
 131:../../../projects/dicio/utility/neighbors.c ****         }
 132:../../../projects/dicio/utility/neighbors.c ****     }
 133:../../../projects/dicio/utility/neighbors.c ****     return -1;
 798               	.LM51:
 799 016c 8FEF      		ldi r24,lo8(-1)
 800               	.L31:
 134:../../../projects/dicio/utility/neighbors.c **** }
 802               	.LM52:
 803 016e 0895      		ret
 808               	.Lscope7:
 810               		.stabd	78,0,0
 814               	.global	add_to_neighbor_graph
 816               	add_to_neighbor_graph:
 817               		.stabd	46,0,0
 135:../../../projects/dicio/utility/neighbors.c **** 
 136:../../../projects/dicio/utility/neighbors.c **** /**
 137:../../../projects/dicio/utility/neighbors.c ****  * add_to_neighbor_graph:
 138:../../../projects/dicio/utility/neighbors.c ****  *  - add new table to the neighbor graph
 139:../../../projects/dicio/utility/neighbors.c ****  *
 140:../../../projects/dicio/utility/neighbors.c ****  * @param ng - neighbor graph to which to add
 141:../../../projects/dicio/utility/neighbors.c ****  * @param new_table - new neighbor table to add to the neighbor graph
 142:../../../projects/dicio/utility/neighbors.c ****  * @returns '1' if add was successful, '-1' otherwise
 143:../../../projects/dicio/utility/neighbors.c ****  */
 144:../../../projects/dicio/utility/neighbors.c **** int8_t add_to_neighbor_graph(neighbor_graph_t *ng, neighbor_table_t *nt) {
 819               	.LM53:
 820               	.LFBB8:
 821 0170 CF93      		push r28
 822 0172 DF93      		push r29
 823               	/* prologue: function */
 824               	/* frame size = 0 */
 825               	/* stack size = 2 */
 826               	.L__stack_usage = 2
 827 0174 DC01      		movw r26,r24
 828 0176 FB01      		movw r30,r22
 145:../../../projects/dicio/utility/neighbors.c ****     //printf("     add %d to neighbor_graph\r\n", nt->origin);
 146:../../../projects/dicio/utility/neighbors.c ****     if((ng->size < MAX_GRAPH)) {
 830               	.LM54:
 831 0178 8C91      		ld r24,X
 832 017a 8830      		cpi r24,lo8(8)
 833 017c 00F4      		brsh .L36
 834               	.LBB12:
 147:../../../projects/dicio/utility/neighbors.c ****         uint8_t index = ng->size;
 148:../../../projects/dicio/utility/neighbors.c ****         ng->size++;
 836               	.LM55:
 837 017e 91E0      		ldi r25,lo8(1)
 838 0180 980F      		add r25,r24
 839 0182 9C93      		st X,r25
 149:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].size = nt->size;
 841               	.LM56:
 842 0184 9081      		ld r25,Z
 843 0186 45E0      		ldi r20,lo8(5)
 844 0188 282F      		mov r18,r24
 845 018a 30E0      		ldi r19,0
 846 018c ED01      		movw r28,r26
 847 018e 489F      		mul r20,r24
 848 0190 C00D      		add r28,r0
 849 0192 D11D      		adc r29,r1
 850 0194 1124      		clr __zero_reg__
 851 0196 9983      		std Y+1,r25
 150:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].origin = nt->origin;
 853               	.LM57:
 854 0198 8181      		ldd r24,Z+1
 855 019a 8A83      		std Y+2,r24
 151:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[0].id = nt->neighbors[0].id;
 857               	.LM58:
 858 019c 8281      		ldd r24,Z+2
 859 019e 8B83      		std Y+3,r24
 152:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[1].id = nt->neighbors[1].id;
 861               	.LM59:
 862 01a0 8381      		ldd r24,Z+3
 863 01a2 8C83      		std Y+4,r24
 153:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[2].id = nt->neighbors[2].id;
 865               	.LM60:
 866 01a4 5481      		ldd r21,Z+4
 867 01a6 2F5F      		subi r18,-1
 868 01a8 3F4F      		sbci r19,-1
 869 01aa 429F      		mul r20,r18
 870 01ac C001      		movw r24,r0
 871 01ae 439F      		mul r20,r19
 872 01b0 900D      		add r25,r0
 873 01b2 1124      		clr __zero_reg__
 874 01b4 A80F      		add r26,r24
 875 01b6 B91F      		adc r27,r25
 876 01b8 5C93      		st X,r21
 154:../../../projects/dicio/utility/neighbors.c ****         return 1;
 878               	.LM61:
 879 01ba 81E0      		ldi r24,lo8(1)
 880 01bc 00C0      		rjmp .L35
 881               	.L36:
 882               	.LBE12:
 155:../../../projects/dicio/utility/neighbors.c ****     }
 156:../../../projects/dicio/utility/neighbors.c ****     return -1;
 884               	.LM62:
 885 01be 8FEF      		ldi r24,lo8(-1)
 886               	.L35:
 887               	/* epilogue start */
 157:../../../projects/dicio/utility/neighbors.c **** }
 889               	.LM63:
 890 01c0 DF91      		pop r29
 891 01c2 CF91      		pop r28
 892 01c4 0895      		ret
 894               	.Lscope8:
 896               		.stabd	78,0,0
 900               	.global	update_neighbor_graph
 902               	update_neighbor_graph:
 903               		.stabd	46,0,0
 158:../../../projects/dicio/utility/neighbors.c **** 
 159:../../../projects/dicio/utility/neighbors.c **** /** 
 160:../../../projects/dicio/utility/neighbors.c ****  * update_neighbor_graph:
 161:../../../projects/dicio/utility/neighbors.c ****  *  - update the neighbor graph with the current information
 162:../../../projects/dicio/utility/neighbors.c ****  * 
 163:../../../projects/dicio/utility/neighbors.c ****  * @param ng - neighbor graph to update
 164:../../../projects/dicio/utility/neighbors.c ****  * @param nt - neighbor table to update
 165:../../../projects/dicio/utility/neighbors.c ****  * @returns '1' if update was successful, '-1' otherwise
 166:../../../projects/dicio/utility/neighbors.c ****  */
 167:../../../projects/dicio/utility/neighbors.c **** int8_t update_neighbor_graph(neighbor_graph_t *ng, neighbor_table_t *nt) {
 905               	.LM64:
 906               	.LFBB9:
 907 01c6 FF92      		push r15
 908 01c8 0F93      		push r16
 909 01ca 1F93      		push r17
 910 01cc CF93      		push r28
 911 01ce DF93      		push r29
 912               	/* prologue: function */
 913               	/* frame size = 0 */
 914               	/* stack size = 5 */
 915               	.L__stack_usage = 5
 916 01d0 8C01      		movw r16,r24
 917 01d2 EB01      		movw r28,r22
 168:../../../projects/dicio/utility/neighbors.c ****     int8_t in_ng, index;
 169:../../../projects/dicio/utility/neighbors.c ****     
 170:../../../projects/dicio/utility/neighbors.c ****     in_ng = in_neighbor_graph(ng, nt->origin);
 919               	.LM65:
 920 01d4 F980      		ldd r15,Y+1
 921 01d6 6F2D      		mov r22,r15
 922 01d8 0E94 0000 		call in_neighbor_graph
 171:../../../projects/dicio/utility/neighbors.c ****     if(in_ng == -1) {
 924               	.LM66:
 925 01dc 8F3F      		cpi r24,lo8(-1)
 926 01de 01F4      		brne .L38
 172:../../../projects/dicio/utility/neighbors.c ****         add_to_neighbor_graph(ng, nt);
 928               	.LM67:
 929 01e0 BE01      		movw r22,r28
 930 01e2 C801      		movw r24,r16
 931 01e4 0E94 0000 		call add_to_neighbor_graph
 173:../../../projects/dicio/utility/neighbors.c ****         return 1;
 933               	.LM68:
 934 01e8 00C0      		rjmp .L39
 935               	.L38:
 174:../../../projects/dicio/utility/neighbors.c ****     } else {
 175:../../../projects/dicio/utility/neighbors.c ****         index = get_neighbor_graph_index(ng, nt->origin);
 937               	.LM69:
 938 01ea 6F2D      		mov r22,r15
 939 01ec C801      		movw r24,r16
 940 01ee 0E94 0000 		call get_neighbor_graph_index
 176:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].size = nt->size;
 942               	.LM70:
 943 01f2 282F      		mov r18,r24
 944 01f4 3327      		clr r19
 945 01f6 27FD      		sbrc r18,7
 946 01f8 3095      		com r19
 947 01fa 8881      		ld r24,Y
 948 01fc 45E0      		ldi r20,lo8(5)
 949 01fe 429F      		mul r20,r18
 950 0200 F001      		movw r30,r0
 951 0202 439F      		mul r20,r19
 952 0204 F00D      		add r31,r0
 953 0206 1124      		clr __zero_reg__
 954 0208 E00F      		add r30,r16
 955 020a F11F      		adc r31,r17
 956 020c 8183      		std Z+1,r24
 177:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].origin = nt->origin;
 958               	.LM71:
 959 020e 8981      		ldd r24,Y+1
 960 0210 8283      		std Z+2,r24
 178:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[0].id = nt->neighbors[0].id;
 962               	.LM72:
 963 0212 8A81      		ldd r24,Y+2
 964 0214 8383      		std Z+3,r24
 179:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[1].id = nt->neighbors[1].id;
 966               	.LM73:
 967 0216 8B81      		ldd r24,Y+3
 968 0218 8483      		std Z+4,r24
 180:../../../projects/dicio/utility/neighbors.c ****         ng->neighbor_tables[index].neighbors[2].id = nt->neighbors[2].id;
 970               	.LM74:
 971 021a 5C81      		ldd r21,Y+4
 972 021c 2F5F      		subi r18,-1
 973 021e 3F4F      		sbci r19,-1
 974 0220 429F      		mul r20,r18
 975 0222 C001      		movw r24,r0
 976 0224 439F      		mul r20,r19
 977 0226 900D      		add r25,r0
 978 0228 1124      		clr __zero_reg__
 979 022a F801      		movw r30,r16
 980 022c E80F      		add r30,r24
 981 022e F91F      		adc r31,r25
 982 0230 5083      		st Z,r21
 983               	.L39:
 181:../../../projects/dicio/utility/neighbors.c ****         return 1;
 182:../../../projects/dicio/utility/neighbors.c ****     }
 183:../../../projects/dicio/utility/neighbors.c ****     return -1;
 184:../../../projects/dicio/utility/neighbors.c **** }
 985               	.LM75:
 986 0232 81E0      		ldi r24,lo8(1)
 987               	/* epilogue start */
 988 0234 DF91      		pop r29
 989 0236 CF91      		pop r28
 990 0238 1F91      		pop r17
 991 023a 0F91      		pop r16
 992 023c FF90      		pop r15
 993 023e 0895      		ret
 998               	.Lscope9:
 1000               		.stabd	78,0,0
 1001               		.section	.rodata.str1.1
 1002               	.LC5:
 1003 0034 2020 204F 		.string	"   Origin: %d -> Neighbors: %d %d %d\r\n"
 1003      7269 6769 
 1003      6E3A 2025 
 1003      6420 2D3E 
 1003      204E 6569 
 1004               		.text
 1007               	.global	print_neighbor_graph
 1009               	print_neighbor_graph:
 1010               		.stabd	46,0,0
 185:../../../projects/dicio/utility/neighbors.c **** 
 186:../../../projects/dicio/utility/neighbors.c **** /**
 187:../../../projects/dicio/utility/neighbors.c ****  * print_neighbor_graph:
 188:../../../projects/dicio/utility/neighbors.c ****  *  - print the current neighbor information
 189:../../../projects/dicio/utility/neighbors.c ****  * 
 190:../../../projects/dicio/utility/neighbors.c ****  * @param ng - neighbor graph to print
 191:../../../projects/dicio/utility/neighbors.c ****  */
 192:../../../projects/dicio/utility/neighbors.c **** void print_neighbor_graph(neighbor_graph_t *ng) {
 1012               	.LM76:
 1013               	.LFBB10:
 1014 0240 EF92      		push r14
 1015 0242 FF92      		push r15
 1016 0244 0F93      		push r16
 1017 0246 1F93      		push r17
 1018 0248 CF93      		push r28
 1019 024a DF93      		push r29
 1020               	/* prologue: function */
 1021               	/* frame size = 0 */
 1022               	/* stack size = 6 */
 1023               	.L__stack_usage = 6
 1024 024c 8C01      		movw r16,r24
 193:../../../projects/dicio/utility/neighbors.c ****     neighbor_table_t nt;
 194:../../../projects/dicio/utility/neighbors.c ****     nrk_kprintf(PSTR("\r\nNeighbor Graph:\r\n"));
 1026               	.LM77:
 1027 024e 80E0      		ldi r24,lo8(__c.3769)
 1028 0250 90E0      		ldi r25,hi8(__c.3769)
 1029 0252 0E94 0000 		call nrk_kprintf
 1030               	.LBB13:
 195:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < ng->size; i++) {
 1032               	.LM78:
 1033 0256 C0E0      		ldi r28,0
 196:../../../projects/dicio/utility/neighbors.c ****         nt = ng->neighbor_tables[i];
 1035               	.LM79:
 1036 0258 D5E0      		ldi r29,lo8(5)
 197:../../../projects/dicio/utility/neighbors.c ****         printf("   Origin: %d -> Neighbors: %d %d %d\r\n", nt.origin, nt.neighbors[0].id, nt.neighb
 1038               	.LM80:
 1039 025a 80E0      		ldi r24,lo8(.LC5)
 1040 025c E82E      		mov r14,r24
 1041 025e 80E0      		ldi r24,hi8(.LC5)
 1042 0260 F82E      		mov r15,r24
 1043               	.L41:
 195:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < ng->size; i++) {
 1045               	.LM81:
 1046 0262 F801      		movw r30,r16
 1047 0264 8081      		ld r24,Z
 1048 0266 C817      		cp r28,r24
 1049 0268 00F4      		brsh .L43
 196:../../../projects/dicio/utility/neighbors.c ****         nt = ng->neighbor_tables[i];
 1051               	.LM82:
 1052 026a F801      		movw r30,r16
 1053 026c DC9F      		mul r29,r28
 1054 026e E00D      		add r30,r0
 1055 0270 F11D      		adc r31,r1
 1056 0272 1124      		clr __zero_reg__
 1057 0274 3196      		adiw r30,1
 1059               	.LM83:
 1060 0276 8481      		ldd r24,Z+4
 1061 0278 1F92      		push __zero_reg__
 1062 027a 8F93      		push r24
 1063 027c 8381      		ldd r24,Z+3
 1064 027e 1F92      		push __zero_reg__
 1065 0280 8F93      		push r24
 1066 0282 8281      		ldd r24,Z+2
 1067 0284 1F92      		push __zero_reg__
 1068 0286 8F93      		push r24
 1069 0288 8181      		ldd r24,Z+1
 1070 028a 1F92      		push __zero_reg__
 1071 028c 8F93      		push r24
 1072 028e FF92      		push r15
 1073 0290 EF92      		push r14
 1074 0292 0E94 0000 		call printf
 195:../../../projects/dicio/utility/neighbors.c ****     for(uint8_t i = 0; i < ng->size; i++) {
 1076               	.LM84:
 1077 0296 CF5F      		subi r28,lo8(-(1))
 1078 0298 8DB7      		in r24,__SP_L__
 1079 029a 9EB7      		in r25,__SP_H__
 1080 029c 0A96      		adiw r24,10
 1081 029e 0FB6      		in __tmp_reg__,__SREG__
 1082 02a0 F894      		cli
 1083 02a2 9EBF      		out __SP_H__,r25
 1084 02a4 0FBE      		out __SREG__,__tmp_reg__
 1085 02a6 8DBF      		out __SP_L__,r24
 1086 02a8 00C0      		rjmp .L41
 1087               	.L43:
 1088               	/* epilogue start */
 1089               	.LBE13:
 198:../../../projects/dicio/utility/neighbors.c ****     }
 199:../../../projects/dicio/utility/neighbors.c **** }...
 1091               	.LM85:
 1092 02aa DF91      		pop r29
 1093 02ac CF91      		pop r28
 1094 02ae 1F91      		pop r17
 1095 02b0 0F91      		pop r16
 1096 02b2 FF90      		pop r15
 1097 02b4 EF90      		pop r14
 1098 02b6 0895      		ret
 1103               	.Lscope10:
 1105               		.stabd	78,0,0
 1106               		.section	.progmem.data,"a",@progbits
 1109               	__c.3769:
 1110 0000 0D0A 4E65 		.string	"\r\nNeighbor Graph:\r\n"
 1110      6967 6862 
 1110      6F72 2047 
 1110      7261 7068 
 1110      3A0D 0A00 
 1111               		.comm	error_num,1,1
 1112               		.comm	error_task,1,1
 1113               		.comm	bmac_rfTxInfo,7,1
 1114               		.comm	bmac_rfRxInfo,12,1
 1115               		.comm	bmac_enable_signal,1,1
 1116               		.comm	bmac_tx_pkt_done_signal,1,1
 1117               		.comm	bmac_rx_pkt_signal,1,1
 1118               		.comm	nrk_kernel_stk_ptr,2,1
 1119               		.comm	nrk_idle_task_stk,512,1
 1120               		.comm	_nrk_signal_list,4,1
 1131               		.text
 1133               	.Letext0:
 1134               		.ident	"GCC: (GNU) 4.9.1"
 1135               	.global __do_copy_data
 1136               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:0000000000000000 neighbors.c
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:4      *ABS*:000000000000003f __SREG__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:355    .text:0000000000000000 init_neighbor_table
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:385    .text:000000000000000c in_neighbor_table
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:442    .text:000000000000002a add_neighbor
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:517    .text:0000000000000084 get_neighbor_table_index
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:575    .text:000000000000009e print_neighbor_table
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:696    .text:0000000000000126 in_neighbor_graph
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:759    .text:000000000000014a get_neighbor_graph_index
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:816    .text:0000000000000170 add_to_neighbor_graph
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:902    .text:00000000000001c6 update_neighbor_graph
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:1009   .text:0000000000000240 print_neighbor_graph
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccETuQAG.s:1109   .progmem.data:0000000000000000 __c.3769
                            *COM*:0000000000000001 error_num
                            *COM*:0000000000000001 error_task
                            *COM*:0000000000000007 bmac_rfTxInfo
                            *COM*:000000000000000c bmac_rfRxInfo
                            *COM*:0000000000000001 bmac_enable_signal
                            *COM*:0000000000000001 bmac_tx_pkt_done_signal
                            *COM*:0000000000000001 bmac_rx_pkt_signal
                            *COM*:0000000000000002 nrk_kernel_stk_ptr
                            *COM*:0000000000000200 nrk_idle_task_stk
                            *COM*:0000000000000004 _nrk_signal_list

UNDEFINED SYMBOLS
printf
putchar
puts
nrk_kprintf
__do_copy_data
__do_clear_bss
