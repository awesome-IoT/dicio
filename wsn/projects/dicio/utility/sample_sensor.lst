   1               		.file	"sample_sensor.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 352               	.global	sample_light
 354               	sample_light:
 355               		.stabd	46,0,0
   1:../../../projects/dicio/utility/sample_sensor.c **** /**
   2:../../../projects/dicio/utility/sample_sensor.c ****  * 18-748 Wireless Sensor Networks
   3:../../../projects/dicio/utility/sample_sensor.c ****  * Spring 2016
   4:../../../projects/dicio/utility/sample_sensor.c ****  * Lab 3: Multi-Hop Communication
   5:../../../projects/dicio/utility/sample_sensor.c ****  * sample_sensor.c
   6:../../../projects/dicio/utility/sample_sensor.c ****  * Kedar Amladi // kamladi. Daniel Santoro // ddsantor. Adam Selevan // aselevan.
   7:../../../projects/dicio/utility/sample_sensor.c ****  */
   8:../../../projects/dicio/utility/sample_sensor.c ****  
   9:../../../projects/dicio/utility/sample_sensor.c **** #include <sample_sensor.h>
  10:../../../projects/dicio/utility/sample_sensor.c **** 
  11:../../../projects/dicio/utility/sample_sensor.c **** uint16_t sample_light(){
 357               	.LM0:
 358               	.LFBB1:
 359 0000 1F93      		push r17
 360 0002 CF93      		push r28
 361 0004 DF93      		push r29
 362 0006 00D0      		rcall .
 363 0008 CDB7      		in r28,__SP_L__
 364 000a DEB7      		in r29,__SP_H__
 365               	/* prologue: function */
 366               	/* frame size = 2 */
 367               	/* stack size = 5 */
 368               	.L__stack_usage = 5
  12:../../../projects/dicio/utility/sample_sensor.c ****     uint8_t fd;
  13:../../../projects/dicio/utility/sample_sensor.c ****     int8_t val;
  14:../../../projects/dicio/utility/sample_sensor.c ****     uint16_t light;
  15:../../../projects/dicio/utility/sample_sensor.c ****     
  16:../../../projects/dicio/utility/sample_sensor.c ****     // Open ADC device as read 
  17:../../../projects/dicio/utility/sample_sensor.c ****     fd=nrk_open(FIREFLY_3_SENSOR_BASIC,READ);
 370               	.LM1:
 371 000c 65E0      		ldi r22,lo8(5)
 372 000e 83E0      		ldi r24,lo8(3)
 373 0010 0E94 0000 		call nrk_open
 374 0014 182F      		mov r17,r24
  18:../../../projects/dicio/utility/sample_sensor.c ****     if(fd==NRK_ERROR) nrk_kprintf(PSTR("Failed to open sensor driver\r\n"));
  19:../../../projects/dicio/utility/sample_sensor.c ****     
  20:../../../projects/dicio/utility/sample_sensor.c ****     // state actions
  21:../../../projects/dicio/utility/sample_sensor.c ****     val = nrk_set_status(fd,SENSOR_SELECT,LIGHT);
 376               	.LM2:
 377 0016 41E0      		ldi r20,lo8(1)
 378 0018 61E0      		ldi r22,lo8(1)
 379 001a 0E94 0000 		call nrk_set_status
  22:../../../projects/dicio/utility/sample_sensor.c ****     val = nrk_read(fd,&light,2);
 381               	.LM3:
 382 001e 42E0      		ldi r20,lo8(2)
 383 0020 BE01      		movw r22,r28
 384 0022 6F5F      		subi r22,-1
 385 0024 7F4F      		sbci r23,-1
 386 0026 812F      		mov r24,r17
 387 0028 0E94 0000 		call nrk_read
  23:../../../projects/dicio/utility/sample_sensor.c ****     //printf("...light/threshold=%d/%d\r\n",light, light_threshold);
  24:../../../projects/dicio/utility/sample_sensor.c ****     
  25:../../../projects/dicio/utility/sample_sensor.c ****     nrk_close(fd); // power down sensor for power savings
 389               	.LM4:
 390 002c 812F      		mov r24,r17
 391 002e 0E94 0000 		call nrk_close
  26:../../../projects/dicio/utility/sample_sensor.c ****     
  27:../../../projects/dicio/utility/sample_sensor.c ****     return light;
  28:../../../projects/dicio/utility/sample_sensor.c **** }...
 393               	.LM5:
 394 0032 8981      		ldd r24,Y+1
 395 0034 9A81      		ldd r25,Y+2
 396               	/* epilogue start */
 397 0036 0F90      		pop __tmp_reg__
 398 0038 0F90      		pop __tmp_reg__
 399 003a DF91      		pop r29
 400 003c CF91      		pop r28
 401 003e 1F91      		pop r17
 402 0040 0895      		ret
 407               	.Lscope1:
 409               		.stabd	78,0,0
 410               		.comm	error_num,1,1
 411               		.comm	error_task,1,1
 412               		.comm	bmac_rfTxInfo,7,1
 413               		.comm	bmac_rfRxInfo,12,1
 414               		.comm	bmac_enable_signal,1,1
 415               		.comm	bmac_tx_pkt_done_signal,1,1
 416               		.comm	bmac_rx_pkt_signal,1,1
 417               		.comm	nrk_kernel_stk_ptr,2,1
 418               		.comm	nrk_idle_task_stk,512,1
 419               		.comm	_nrk_signal_list,4,1
 431               	.Letext0:
 432               		.ident	"GCC: (GNU) 4.9.1"
 433               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:0000000000000000 sample_sensor.c
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:4      *ABS*:000000000000003f __SREG__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//cc4nMvYE.s:354    .text:0000000000000000 sample_light
                            *COM*:0000000000000001 error_num
                            *COM*:0000000000000001 error_task
                            *COM*:0000000000000007 bmac_rfTxInfo
                            *COM*:000000000000000c bmac_rfRxInfo
                            *COM*:0000000000000001 bmac_enable_signal
                            *COM*:0000000000000001 bmac_tx_pkt_done_signal
                            *COM*:0000000000000001 bmac_rx_pkt_signal
                            *COM*:0000000000000002 nrk_kernel_stk_ptr
                            *COM*:0000000000000200 nrk_idle_task_stk
                            *COM*:0000000000000004 _nrk_signal_list

UNDEFINED SYMBOLS
nrk_open
nrk_set_status
nrk_read
nrk_close
__do_clear_bss
