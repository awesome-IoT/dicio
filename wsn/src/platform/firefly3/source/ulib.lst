   1               		.file	"ulib.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 305               	.global	putc0
 307               	putc0:
 308               		.stabd	46,0,0
   1:../../../src/platform/firefly3/source/ulib.c **** /******************************************************************************
   2:../../../src/platform/firefly3/source/ulib.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../../src/platform/firefly3/source/ulib.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../../src/platform/firefly3/source/ulib.c **** *  All rights reserved.
   5:../../../src/platform/firefly3/source/ulib.c **** *
   6:../../../src/platform/firefly3/source/ulib.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../../src/platform/firefly3/source/ulib.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../../src/platform/firefly3/source/ulib.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../../src/platform/firefly3/source/ulib.c **** *
  10:../../../src/platform/firefly3/source/ulib.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../../src/platform/firefly3/source/ulib.c **** *  it under the terms of the GNU General Public License as published by
  12:../../../src/platform/firefly3/source/ulib.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../../src/platform/firefly3/source/ulib.c **** *
  14:../../../src/platform/firefly3/source/ulib.c **** *  This program is distributed in the hope that it will be useful,
  15:../../../src/platform/firefly3/source/ulib.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../../src/platform/firefly3/source/ulib.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../../src/platform/firefly3/source/ulib.c **** *  GNU General Public License for more details.
  18:../../../src/platform/firefly3/source/ulib.c **** *
  19:../../../src/platform/firefly3/source/ulib.c **** *  You should have received a copy of the GNU General Public License
  20:../../../src/platform/firefly3/source/ulib.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../../src/platform/firefly3/source/ulib.c **** *
  22:../../../src/platform/firefly3/source/ulib.c **** *  Contributing Authors (specific to this file):
  23:../../../src/platform/firefly3/source/ulib.c **** *  Anthony Rowe
  24:../../../src/platform/firefly3/source/ulib.c **** *  Nuno Pereira
  25:../../../src/platform/firefly3/source/ulib.c **** *  Zane Starr
  26:../../../src/platform/firefly3/source/ulib.c **** *******************************************************************************/
  27:../../../src/platform/firefly3/source/ulib.c **** 
  28:../../../src/platform/firefly3/source/ulib.c **** #include <include.h>
  29:../../../src/platform/firefly3/source/ulib.c **** #include <ulib.h>
  30:../../../src/platform/firefly3/source/ulib.c **** #include <stdio.h>
  31:../../../src/platform/firefly3/source/ulib.c **** #include <hal.h>
  32:../../../src/platform/firefly3/source/ulib.c **** #include <hal_firefly3.h>
  33:../../../src/platform/firefly3/source/ulib.c **** #include <avr/interrupt.h>
  34:../../../src/platform/firefly3/source/ulib.c **** #include <nrk_pin_define.h>
  35:../../../src/platform/firefly3/source/ulib.c **** #include <nrk_error.h>
  36:../../../src/platform/firefly3/source/ulib.c **** #include <nrk_events.h>
  37:../../../src/platform/firefly3/source/ulib.c **** 
  38:../../../src/platform/firefly3/source/ulib.c **** #ifdef NANORK
  39:../../../src/platform/firefly3/source/ulib.c **** #include <nrk_cfg.h>
  40:../../../src/platform/firefly3/source/ulib.c **** #endif
  41:../../../src/platform/firefly3/source/ulib.c **** 
  42:../../../src/platform/firefly3/source/ulib.c **** #ifdef NRK_UART_BUF
  43:../../../src/platform/firefly3/source/ulib.c **** #include <nrk_events.h>
  44:../../../src/platform/firefly3/source/ulib.c **** 
  45:../../../src/platform/firefly3/source/ulib.c **** #ifndef MAX_RX_UART_BUF
  46:../../../src/platform/firefly3/source/ulib.c **** #define MAX_RX_UART_BUF    16
  47:../../../src/platform/firefly3/source/ulib.c **** #endif
  48:../../../src/platform/firefly3/source/ulib.c **** 
  49:../../../src/platform/firefly3/source/ulib.c **** 
  50:../../../src/platform/firefly3/source/ulib.c **** static uint16_t uart_rx_buf_start,uart_rx_buf_end;
  51:../../../src/platform/firefly3/source/ulib.c **** static char uart_rx_buf[MAX_RX_UART_BUF];
  52:../../../src/platform/firefly3/source/ulib.c **** static nrk_sig_t uart_rx_signal;
  53:../../../src/platform/firefly3/source/ulib.c **** 
  54:../../../src/platform/firefly3/source/ulib.c **** SIGNAL(USART0_RX_vect)
  55:../../../src/platform/firefly3/source/ulib.c **** {
  56:../../../src/platform/firefly3/source/ulib.c **** char c;
  57:../../../src/platform/firefly3/source/ulib.c **** uint8_t sig;
  58:../../../src/platform/firefly3/source/ulib.c **** nrk_int_disable();
  59:../../../src/platform/firefly3/source/ulib.c **** // cli();
  60:../../../src/platform/firefly3/source/ulib.c **** //DISABLE_UART0_RX_INT(); //this will enable nrk int
  61:../../../src/platform/firefly3/source/ulib.c ****    UART0_WAIT_AND_RECEIVE(c);
  62:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf[uart_rx_buf_end]=c;
  63:../../../src/platform/firefly3/source/ulib.c ****    //if(uart_rx_buf_end==uart_rx_buf_start) sig=1; else sig=0;
  64:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf_end++;
  65:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_end==MAX_RX_UART_BUF) {
  66:../../../src/platform/firefly3/source/ulib.c **** 	   uart_rx_buf_end=0;
  67:../../../src/platform/firefly3/source/ulib.c **** 		   }
  68:../../../src/platform/firefly3/source/ulib.c ****    //if(uart_rx_buf_end==uart_rx_buf_start) nrk_kprintf(PSTR("Buf overflow!\r\n" ));
  69:../../../src/platform/firefly3/source/ulib.c ****    nrk_event_signal(uart_rx_signal);
  70:../../../src/platform/firefly3/source/ulib.c **** CLEAR_UART0_RX_INT();
  71:../../../src/platform/firefly3/source/ulib.c **** //ENABLE_UART0_RX_INT();
  72:../../../src/platform/firefly3/source/ulib.c **** // sei();
  73:../../../src/platform/firefly3/source/ulib.c **** nrk_int_enable();
  74:../../../src/platform/firefly3/source/ulib.c **** }
  75:../../../src/platform/firefly3/source/ulib.c **** 
  76:../../../src/platform/firefly3/source/ulib.c **** char getc0()
  77:../../../src/platform/firefly3/source/ulib.c **** {
  78:../../../src/platform/firefly3/source/ulib.c **** char tmp;
  79:../../../src/platform/firefly3/source/ulib.c **** int8_t v;
  80:../../../src/platform/firefly3/source/ulib.c **** 
  81:../../../src/platform/firefly3/source/ulib.c **** if(uart_rx_buf_start==uart_rx_buf_end) { nrk_signal_register(uart_rx_signal); v=nrk_event_wait(uart
  82:../../../src/platform/firefly3/source/ulib.c **** if(v==NRK_ERROR ) nrk_kprintf(PSTR("uart rx sig failed\r\n" ));
  83:../../../src/platform/firefly3/source/ulib.c ****    tmp=uart_rx_buf[uart_rx_buf_start];
  84:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf_start++;
  85:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_start>=MAX_RX_UART_BUF) { uart_rx_buf_start=0; }
  86:../../../src/platform/firefly3/source/ulib.c **** 
  87:../../../src/platform/firefly3/source/ulib.c ****    return tmp;
  88:../../../src/platform/firefly3/source/ulib.c **** }
  89:../../../src/platform/firefly3/source/ulib.c **** 
  90:../../../src/platform/firefly3/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
  91:../../../src/platform/firefly3/source/ulib.c **** {
  92:../../../src/platform/firefly3/source/ulib.c **** if(uart_num==0)
  93:../../../src/platform/firefly3/source/ulib.c ****         {
  94:../../../src/platform/firefly3/source/ulib.c ****         //if( UCSR0A & BM(RXC0) ) return 1;
  95:../../../src/platform/firefly3/source/ulib.c **** 	if(uart_rx_buf_start!=uart_rx_buf_end) return 1;
  96:../../../src/platform/firefly3/source/ulib.c ****         }
  97:../../../src/platform/firefly3/source/ulib.c **** if(uart_num==1)
  98:../../../src/platform/firefly3/source/ulib.c **** 	{
  99:../../../src/platform/firefly3/source/ulib.c ****         if( UCSR1A & BM(RXC1) ) return 1;
 100:../../../src/platform/firefly3/source/ulib.c **** 	//if(uart_rx_buf_start!=uart_rx_buf_end) return 1;
 101:../../../src/platform/firefly3/source/ulib.c **** 	}
 102:../../../src/platform/firefly3/source/ulib.c **** return 0;
 103:../../../src/platform/firefly3/source/ulib.c **** }
 104:../../../src/platform/firefly3/source/ulib.c **** 
 105:../../../src/platform/firefly3/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 106:../../../src/platform/firefly3/source/ulib.c **** {
 107:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 108:../../../src/platform/firefly3/source/ulib.c ****    return uart_rx_signal;
 109:../../../src/platform/firefly3/source/ulib.c **** }
 110:../../../src/platform/firefly3/source/ulib.c **** 
 111:../../../src/platform/firefly3/source/ulib.c **** #else
 112:../../../src/platform/firefly3/source/ulib.c **** 
 113:../../../src/platform/firefly3/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 114:../../../src/platform/firefly3/source/ulib.c **** {
 115:../../../src/platform/firefly3/source/ulib.c ****    return NRK_ERROR;
 116:../../../src/platform/firefly3/source/ulib.c **** }
 117:../../../src/platform/firefly3/source/ulib.c **** 
 118:../../../src/platform/firefly3/source/ulib.c **** 
 119:../../../src/platform/firefly3/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
 120:../../../src/platform/firefly3/source/ulib.c **** {
 121:../../../src/platform/firefly3/source/ulib.c **** if(uart_num==1)
 122:../../../src/platform/firefly3/source/ulib.c ****         {
 123:../../../src/platform/firefly3/source/ulib.c ****         if( UCSR1A & BM(RXC1) ) return 1;
 124:../../../src/platform/firefly3/source/ulib.c ****         }
 125:../../../src/platform/firefly3/source/ulib.c **** if(uart_num==0)
 126:../../../src/platform/firefly3/source/ulib.c ****         {
 127:../../../src/platform/firefly3/source/ulib.c ****         if( UCSR0A & BM(RXC0) ) return 1;
 128:../../../src/platform/firefly3/source/ulib.c ****         }
 129:../../../src/platform/firefly3/source/ulib.c **** return 0;
 130:../../../src/platform/firefly3/source/ulib.c **** }
 131:../../../src/platform/firefly3/source/ulib.c **** 
 132:../../../src/platform/firefly3/source/ulib.c **** char getc0(void){
 133:../../../src/platform/firefly3/source/ulib.c ****         unsigned char tmp;
 134:../../../src/platform/firefly3/source/ulib.c ****         UART0_WAIT_AND_RECEIVE(tmp);
 135:../../../src/platform/firefly3/source/ulib.c ****         return tmp;
 136:../../../src/platform/firefly3/source/ulib.c **** }
 137:../../../src/platform/firefly3/source/ulib.c **** 
 138:../../../src/platform/firefly3/source/ulib.c **** #endif
 139:../../../src/platform/firefly3/source/ulib.c **** 
 140:../../../src/platform/firefly3/source/ulib.c **** void nrk_kprintf( const char *addr)
 141:../../../src/platform/firefly3/source/ulib.c **** {
 142:../../../src/platform/firefly3/source/ulib.c ****  char c;
 143:../../../src/platform/firefly3/source/ulib.c ****    while((c=pgm_read_byte(addr++)))
 144:../../../src/platform/firefly3/source/ulib.c ****         putchar(c);
 145:../../../src/platform/firefly3/source/ulib.c **** }
 146:../../../src/platform/firefly3/source/ulib.c **** 
 147:../../../src/platform/firefly3/source/ulib.c **** void nrk_setup_ports()
 148:../../../src/platform/firefly3/source/ulib.c **** {
 149:../../../src/platform/firefly3/source/ulib.c **** PORT_INIT();
 150:../../../src/platform/firefly3/source/ulib.c **** //SPI_INIT();
 151:../../../src/platform/firefly3/source/ulib.c **** }
 152:../../../src/platform/firefly3/source/ulib.c **** 
 153:../../../src/platform/firefly3/source/ulib.c **** //---------------------------------------------------------------------------------------------
 154:../../../src/platform/firefly3/source/ulib.c **** // GPIO related definitions
 155:../../../src/platform/firefly3/source/ulib.c **** //---------------------------------------------------------------------------------------------
 156:../../../src/platform/firefly3/source/ulib.c **** // Define high-level nrk pins mappings to hardware pins and ports
 157:../../../src/platform/firefly3/source/ulib.c **** // This is used for nrk_gpio_... functions.
 158:../../../src/platform/firefly3/source/ulib.c **** // Raw GPIO mapping can be found in the nrk_pin_define.h file.
 159:../../../src/platform/firefly3/source/ulib.c **** //---------------------------------------------------------------------------------------------
 160:../../../src/platform/firefly3/source/ulib.c **** 
 161:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 162:../../../src/platform/firefly3/source/ulib.c **** // Port A
 163:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_0);
 164:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_1);
 165:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_2);
 166:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_3);
 167:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_4);
 168:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_5);
 169:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_6);
 170:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTA_7);
 171:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(DEBUG_0);
 172:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(DEBUG_1);
 173:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(DEBUG_2);
 174:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(DEBUG_3);
 175:../../../src/platform/firefly3/source/ulib.c **** 
 176:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 177:../../../src/platform/firefly3/source/ulib.c **** // Port B
 178:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( SPI_SS,SPI_SS, NRK_PORTB )
 179:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( SCK,SCK, NRK_PORTB )
 180:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( MOSI,MOSI, NRK_PORTB )
 181:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( MISO,MISO, NRK_PORTB )
 182:../../../src/platform/firefly3/source/ulib.c **** 
 183:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_0,PORTB_0, NRK_PORTB )
 184:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_1,PORTB_1, NRK_PORTB )
 185:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_2,PORTB_2, NRK_PORTB )
 186:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_3,PORTB_3, NRK_PORTB )
 187:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_4,PORTB_4, NRK_PORTB )
 188:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_5,PORTB_5, NRK_PORTB )
 189:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_6,PORTB_6, NRK_PORTB )
 190:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTB_7,PORTB_7, NRK_PORTB )
 191:../../../src/platform/firefly3/source/ulib.c **** 
 192:../../../src/platform/firefly3/source/ulib.c **** 
 193:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_0);
 194:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_1);
 195:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_2);
 196:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_3);
 197:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_4);
 198:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_5);
 199:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_6);
 200:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN(PORTC_7);
 201:../../../src/platform/firefly3/source/ulib.c **** 
 202:../../../src/platform/firefly3/source/ulib.c **** 
 203:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 204:../../../src/platform/firefly3/source/ulib.c **** // Port D
 205:../../../src/platform/firefly3/source/ulib.c **** 
 206:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_0,PORTD_0, NRK_PORTD )
 207:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_1,PORTD_1, NRK_PORTD )
 208:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_2,PORTD_2, NRK_PORTD )
 209:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_3,PORTD_3, NRK_PORTD )
 210:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_4,PORTD_4, NRK_PORTD )
 211:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_5,PORTD_5, NRK_PORTD )
 212:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_6,PORTD_6, NRK_PORTD )
 213:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTD_7,PORTD_7, NRK_PORTD )
 214:../../../src/platform/firefly3/source/ulib.c **** 
 215:../../../src/platform/firefly3/source/ulib.c **** 
 216:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( BUTTON,BUTTON, NRK_PORTD )
 217:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( UART1_RXD,UART1_RXD, NRK_PORTD )
 218:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( UART1_TXD,UART1_TXD, NRK_PORTD )
 219:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( LED_0,LED_0, NRK_PORTD )
 220:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( LED_1,LED_1, NRK_PORTD )
 221:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( LED_2,LED_2, NRK_PORTD )
 222:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( LED_3,LED_3, NRK_PORTD )
 223:../../../src/platform/firefly3/source/ulib.c **** 
 224:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 225:../../../src/platform/firefly3/source/ulib.c **** // Port E
 226:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_0,PORTE_0, NRK_PORTE )
 227:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_1,PORTE_1, NRK_PORTE )
 228:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_2,PORTE_2, NRK_PORTE )
 229:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_3,PORTE_3, NRK_PORTE )
 230:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_4,PORTE_4, NRK_PORTE )
 231:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_5,PORTE_5, NRK_PORTE )
 232:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_6,PORTE_6, NRK_PORTE )
 233:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTE_7,PORTE_7, NRK_PORTE )
 234:../../../src/platform/firefly3/source/ulib.c **** 
 235:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( UART0_RXD,UART0_RXD, NRK_PORTE )
 236:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( UART0_TXD,UART0_TXD, NRK_PORTE )
 237:../../../src/platform/firefly3/source/ulib.c **** 
 238:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN( ANT_0 )
 239:../../../src/platform/firefly3/source/ulib.c **** NRK_INVALID_PIN( ANT_1 )
 240:../../../src/platform/firefly3/source/ulib.c **** 
 241:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_0,PORTG_0, NRK_PORTG )
 242:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_1,PORTG_1, NRK_PORTG )
 243:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_2,PORTG_2, NRK_PORTG )
 244:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_3,PORTG_3, NRK_PORTG )
 245:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_4,PORTG_4, NRK_PORTG )
 246:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTG_5,PORTG_5, NRK_PORTG )
 247:../../../src/platform/firefly3/source/ulib.c **** 
 248:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 249:../../../src/platform/firefly3/source/ulib.c **** // Port F
 250:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_0, PORTF_0, NRK_PORTF )
 251:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_1, PORTF_1, NRK_PORTF )
 252:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_2, PORTF_2, NRK_PORTF )
 253:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_3, PORTF_3, NRK_PORTF )
 254:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_4, PORTF_4, NRK_PORTF )
 255:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_5, PORTF_5, NRK_PORTF )
 256:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_6, PORTF_6, NRK_PORTF )
 257:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( PORTF_7, PORTF_7, NRK_PORTF )
 258:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_0, ADC_INPUT_0, NRK_PORTF )
 259:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_1, ADC_INPUT_1, NRK_PORTF )
 260:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_2, ADC_INPUT_2, NRK_PORTF )
 261:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_3, ADC_INPUT_3, NRK_PORTF )
 262:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_4, ADC_INPUT_4, NRK_PORTF )
 263:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_5, ADC_INPUT_5, NRK_PORTF )
 264:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_6, ADC_INPUT_6, NRK_PORTF )
 265:../../../src/platform/firefly3/source/ulib.c **** NRK_PIN( ADC_INPUT_7, ADC_INPUT_7, NRK_PORTF )
 266:../../../src/platform/firefly3/source/ulib.c **** 
 267:../../../src/platform/firefly3/source/ulib.c **** void PORT_INIT(void) 
 268:../../../src/platform/firefly3/source/ulib.c **** {
 269:../../../src/platform/firefly3/source/ulib.c **** 	// Pull-up disable
 270:../../../src/platform/firefly3/source/ulib.c **** //        MCUCR |= BM(PUD); 
 271:../../../src/platform/firefly3/source/ulib.c **** 
 272:../../../src/platform/firefly3/source/ulib.c **** #ifdef SPI_SS_PULLUP
 273:../../../src/platform/firefly3/source/ulib.c ****         DDRB  = BM(MOSI) | BM(SCK) | BM(SPI_SS);  
 274:../../../src/platform/firefly3/source/ulib.c ****         PORTB = BM(MOSI) | BM(SCK) | BM(SPI_SS); 
 275:../../../src/platform/firefly3/source/ulib.c **** #else
 276:../../../src/platform/firefly3/source/ulib.c ****         DDRB  = BM(MOSI) | BM(SCK);  
 277:../../../src/platform/firefly3/source/ulib.c ****         PORTB = BM(MOSI) | BM(SCK); 
 278:../../../src/platform/firefly3/source/ulib.c **** #endif
 279:../../../src/platform/firefly3/source/ulib.c ****         DDRD  = BM(LED_0) | BM(LED_1) | BM(LED_2) | BM(LED_3) |  BM(UART1_TXD) ; 
 280:../../../src/platform/firefly3/source/ulib.c **** 	PORTD = BM(LED_0)|BM(LED_1)|BM(LED_2)|BM(LED_3);
 281:../../../src/platform/firefly3/source/ulib.c ****         DDRE = BM(UART0_TXD); 
 282:../../../src/platform/firefly3/source/ulib.c **** } 
 283:../../../src/platform/firefly3/source/ulib.c **** 
 284:../../../src/platform/firefly3/source/ulib.c **** 
 285:../../../src/platform/firefly3/source/ulib.c **** 
 286:../../../src/platform/firefly3/source/ulib.c **** //-------------------------------
 287:../../../src/platform/firefly3/source/ulib.c **** // GPIO handling functions
 288:../../../src/platform/firefly3/source/ulib.c **** 
 289:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_set(uint8_t pin)
 290:../../../src/platform/firefly3/source/ulib.c **** {
 291:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 292:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 293:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 294:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTA |= BM((pin & 0xF8) >> 3); } while(0); break; 
 295:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 296:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTB |= BM((pin & 0xF8) >> 3); } while(0); break; 
 297:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 298:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTC |= BM((pin & 0xF8) >> 3); } while(0); break; 
 299:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 300:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTD |= BM((pin & 0xF8) >> 3); } while(0); break; 
 301:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 302:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTE |= BM((pin & 0xF8) >> 3); } while(0); break; 
 303:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 304:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTF |= BM((pin & 0xF8) >> 3); } while(0); break; 
 305:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 306:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTG |= BM((pin & 0xF8) >> 3); } while(0); break; 
 307:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 308:../../../src/platform/firefly3/source/ulib.c ****         }
 309:../../../src/platform/firefly3/source/ulib.c ****         return 1;
 310:../../../src/platform/firefly3/source/ulib.c **** }
 311:../../../src/platform/firefly3/source/ulib.c **** 
 312:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_clr(uint8_t pin)
 313:../../../src/platform/firefly3/source/ulib.c **** {
 314:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 315:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 316:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 317:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTA &= ~BM((pin & 0xF8) >> 3); } while(0); break;
 318:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 319:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTB &= ~BM((pin & 0xF8) >> 3); } while(0); break;
 320:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 321:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTC &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 322:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 323:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTD &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 324:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 325:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTE &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 326:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 327:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTF &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 328:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 329:../../../src/platform/firefly3/source/ulib.c ****                         do { PORTF &= ~BM((pin & 0xF8) >> 3); } while(0); break; 
 330:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 331:../../../src/platform/firefly3/source/ulib.c ****         }
 332:../../../src/platform/firefly3/source/ulib.c ****         return 1;
 333:../../../src/platform/firefly3/source/ulib.c **** }
 334:../../../src/platform/firefly3/source/ulib.c **** 
 335:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_get(uint8_t pin)
 336:../../../src/platform/firefly3/source/ulib.c **** {
 337:../../../src/platform/firefly3/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 338:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 339:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 340:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PINA & BM((pin & 0xF8) >> 3));
 341:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 342:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PINB & BM((pin & 0xF8) >> 3));
 343:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 344:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PINC & BM((pin & 0xF8) >> 3));
 345:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 346:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PIND & BM((pin & 0xF8) >> 3));
 347:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 348:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PINE & BM((pin & 0xF8) >> 3));
 349:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 350:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PINF & BM((pin & 0xF8) >> 3));
 351:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 352:../../../src/platform/firefly3/source/ulib.c ****                         return !!(PING & BM((pin & 0xF8) >> 3));
 353:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 354:../../../src/platform/firefly3/source/ulib.c ****         }
 355:../../../src/platform/firefly3/source/ulib.c ****         return 1;
 356:../../../src/platform/firefly3/source/ulib.c **** }
 357:../../../src/platform/firefly3/source/ulib.c **** 
 358:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_toggle(uint8_t pin)
 359:../../../src/platform/firefly3/source/ulib.c **** {
 360:../../../src/platform/firefly3/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 361:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 362:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 363:../../../src/platform/firefly3/source/ulib.c ****                         if ((PINA & BM((pin & 0xF8) >> 3)) == 0) {
 364:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTA |= BM((pin & 0xF8) >> 3); } while(0);
 365:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 366:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTA &= ~BM((pin & 0xF8) >> 3); } while(0);
 367:../../../src/platform/firefly3/source/ulib.c ****                         }
 368:../../../src/platform/firefly3/source/ulib.c ****                         break;
 369:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 370:../../../src/platform/firefly3/source/ulib.c ****                         if ((PINB & BM((pin & 0xF8) >> 3)) == 0) {
 371:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTB |= BM((pin & 0xF8) >> 3); } while(0);
 372:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 373:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTB &= ~BM((pin & 0xF8) >> 3); } while(0);
 374:../../../src/platform/firefly3/source/ulib.c ****                         }
 375:../../../src/platform/firefly3/source/ulib.c ****                         break;
 376:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 377:../../../src/platform/firefly3/source/ulib.c ****                         if ((PINC & BM((pin & 0xF8) >> 3)) == 0) {
 378:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTC |= BM((pin & 0xF8) >> 3); } while(0);
 379:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 380:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTC &= ~BM((pin & 0xF8) >> 3); } while(0);
 381:../../../src/platform/firefly3/source/ulib.c ****                         }
 382:../../../src/platform/firefly3/source/ulib.c ****                         break;
 383:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 384:../../../src/platform/firefly3/source/ulib.c ****                         if ((PIND & BM((pin & 0xF8) >> 3)) == 0) {
 385:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTD |= BM((pin & 0xF8) >> 3); } while(0);
 386:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 387:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTD &= ~BM((pin & 0xF8) >> 3); } while(0);
 388:../../../src/platform/firefly3/source/ulib.c ****                         }
 389:../../../src/platform/firefly3/source/ulib.c ****                         break;
 390:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 391:../../../src/platform/firefly3/source/ulib.c ****                         if ((PINE & BM((pin & 0xF8) >> 3)) == 0) {
 392:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTE |= BM((pin & 0xF8) >> 3); } while(0);
 393:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 394:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTE &= ~BM((pin & 0xF8) >> 3); } while(0);
 395:../../../src/platform/firefly3/source/ulib.c ****                         }
 396:../../../src/platform/firefly3/source/ulib.c ****                         break;
 397:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 398:../../../src/platform/firefly3/source/ulib.c ****                         if ((PINF & BM((pin & 0xF8) >> 3)) == 0) {
 399:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTF |= BM((pin & 0xF8) >> 3); } while(0);
 400:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 401:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTF &= ~BM((pin & 0xF8) >> 3); } while(0);
 402:../../../src/platform/firefly3/source/ulib.c ****                         }
 403:../../../src/platform/firefly3/source/ulib.c ****                         break;
 404:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 405:../../../src/platform/firefly3/source/ulib.c ****                         if ((PING & BM((pin & 0xF8) >> 3)) == 0) {
 406:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTG |= BM((pin & 0xF8) >> 3); } while(0);
 407:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 408:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTG &= ~BM((pin & 0xF8) >> 3); } while(0);
 409:../../../src/platform/firefly3/source/ulib.c ****                         }
 410:../../../src/platform/firefly3/source/ulib.c ****                         break;
 411:../../../src/platform/firefly3/source/ulib.c ****                  default: return -1;
 412:../../../src/platform/firefly3/source/ulib.c ****         }
 413:../../../src/platform/firefly3/source/ulib.c ****         return 1;
 414:../../../src/platform/firefly3/source/ulib.c **** }
 415:../../../src/platform/firefly3/source/ulib.c **** 
 416:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_direction(uint8_t pin, uint8_t pin_direction)
 417:../../../src/platform/firefly3/source/ulib.c **** {
 418:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 419:../../../src/platform/firefly3/source/ulib.c ****         if (pin_direction == NRK_PIN_INPUT) {
 420:../../../src/platform/firefly3/source/ulib.c ****                 switch (pin & 0x07) {
 421:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTA:
 422:../../../src/platform/firefly3/source/ulib.c ****                                 DDRA &= ~BM((pin & 0xF8) >> 3); 
 423:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTA |= BM((pin & 0xF8) >> 3); 
 424:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 425:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTB:
 426:../../../src/platform/firefly3/source/ulib.c ****                                 DDRB &= ~BM((pin & 0xF8) >> 3); 
 427:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTB |= BM((pin & 0xF8) >> 3); 
 428:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 429:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTC:
 430:../../../src/platform/firefly3/source/ulib.c ****                                 DDRC &= ~BM((pin & 0xF8) >> 3); 
 431:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTC |= BM((pin & 0xF8) >> 3); 
 432:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 433:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTD:
 434:../../../src/platform/firefly3/source/ulib.c ****                                 DDRD &= ~BM((pin & 0xF8) >> 3); 
 435:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTD |= BM((pin & 0xF8) >> 3); 
 436:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 437:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTE:
 438:../../../src/platform/firefly3/source/ulib.c ****                                 DDRE &= ~BM((pin & 0xF8) >> 3); 
 439:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTE |= BM((pin & 0xF8) >> 3); 
 440:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 441:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTF:
 442:../../../src/platform/firefly3/source/ulib.c ****                                 DDRF &= ~BM((pin & 0xF8) >> 3);
 443:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTF |= BM((pin & 0xF8) >> 3); 
 444:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 445:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTG:
 446:../../../src/platform/firefly3/source/ulib.c ****                                 DDRG &= ~BM((pin & 0xF8) >> 3);
 447:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTG |= BM((pin & 0xF8) >> 3); 
 448:../../../src/platform/firefly3/source/ulib.c ****                                 break;
 449:../../../src/platform/firefly3/source/ulib.c ****                         default: return -1;
 450:../../../src/platform/firefly3/source/ulib.c ****                 }
 451:../../../src/platform/firefly3/source/ulib.c ****         } else {
 452:../../../src/platform/firefly3/source/ulib.c ****                 switch (pin & 0x07) {
 453:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTA:
 454:../../../src/platform/firefly3/source/ulib.c ****                                 DDRA |= BM((pin & 0xF8) >> 3); break;
 455:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTB:
 456:../../../src/platform/firefly3/source/ulib.c ****                                 DDRB |= BM((pin & 0xF8) >> 3); break;
 457:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTC:
 458:../../../src/platform/firefly3/source/ulib.c ****                                 DDRC |= BM((pin & 0xF8) >> 3); break;
 459:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTD:
 460:../../../src/platform/firefly3/source/ulib.c ****                                 DDRD |= BM((pin & 0xF8) >> 3); break;
 461:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTE:
 462:../../../src/platform/firefly3/source/ulib.c ****                                 DDRE |= BM((pin & 0xF8) >> 3); break;
 463:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTF:
 464:../../../src/platform/firefly3/source/ulib.c ****                                 DDRF |= BM((pin & 0xF8) >> 3); break;
 465:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTG:
 466:../../../src/platform/firefly3/source/ulib.c ****                                 DDRG |= BM((pin & 0xF8) >> 3); break;
 467:../../../src/platform/firefly3/source/ulib.c ****                         default: return -1;
 468:../../../src/platform/firefly3/source/ulib.c ****                 }
 469:../../../src/platform/firefly3/source/ulib.c ****         }
 470:../../../src/platform/firefly3/source/ulib.c ****         return 1;
 471:../../../src/platform/firefly3/source/ulib.c **** }
 472:../../../src/platform/firefly3/source/ulib.c **** 
 473:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_get_button(uint8_t b)
 474:../../../src/platform/firefly3/source/ulib.c **** {
 475:../../../src/platform/firefly3/source/ulib.c **** if(b==0) {
 476:../../../src/platform/firefly3/source/ulib.c **** 	 return( !(PINA & BM(BUTTON))); 
 477:../../../src/platform/firefly3/source/ulib.c **** 	} 
 478:../../../src/platform/firefly3/source/ulib.c **** return -1;
 479:../../../src/platform/firefly3/source/ulib.c **** }
 480:../../../src/platform/firefly3/source/ulib.c **** 
 481:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_led_toggle( int led )
 482:../../../src/platform/firefly3/source/ulib.c **** {
 483:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_toggle(NRK_LED_0); return 1; }
 484:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_toggle(NRK_LED_1); return 1; }
 485:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_toggle(NRK_LED_2); return 1; }
 486:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_toggle(NRK_LED_3); return 1; }
 487:../../../src/platform/firefly3/source/ulib.c **** return -1;
 488:../../../src/platform/firefly3/source/ulib.c **** }
 489:../../../src/platform/firefly3/source/ulib.c **** 
 490:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_led_clr( int led )
 491:../../../src/platform/firefly3/source/ulib.c **** {
 492:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_set(NRK_LED_0); return 1; }
 493:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_set(NRK_LED_1); return 1; }
 494:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_set(NRK_LED_2); return 1; }
 495:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_set(NRK_LED_3); return 1; }
 496:../../../src/platform/firefly3/source/ulib.c **** return -1;
 497:../../../src/platform/firefly3/source/ulib.c **** }
 498:../../../src/platform/firefly3/source/ulib.c **** 
 499:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_led_set( int led )
 500:../../../src/platform/firefly3/source/ulib.c **** {
 501:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_clr(NRK_LED_0); return 1; }
 502:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_clr(NRK_LED_1); return 1; }
 503:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_clr(NRK_LED_2); return 1; }
 504:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_clr(NRK_LED_3); return 1; }
 505:../../../src/platform/firefly3/source/ulib.c **** return -1;
 506:../../../src/platform/firefly3/source/ulib.c **** }
 507:../../../src/platform/firefly3/source/ulib.c **** 
 508:../../../src/platform/firefly3/source/ulib.c **** int8_t nrk_gpio_pullups(uint8_t enable)
 509:../../../src/platform/firefly3/source/ulib.c **** {
 510:../../../src/platform/firefly3/source/ulib.c **** if(enable) MCUCR &= ~BM(PUD);
 511:../../../src/platform/firefly3/source/ulib.c **** else MCUCR |= BM(PUD);
 512:../../../src/platform/firefly3/source/ulib.c **** return NRK_OK;
 513:../../../src/platform/firefly3/source/ulib.c **** }
 514:../../../src/platform/firefly3/source/ulib.c **** 
 515:../../../src/platform/firefly3/source/ulib.c **** 
 516:../../../src/platform/firefly3/source/ulib.c **** /*
 517:../../../src/platform/firefly3/source/ulib.c **** void IO_SET_E(uint8_t pin)
 518:../../../src/platform/firefly3/source/ulib.c **** {
 519:../../../src/platform/firefly3/source/ulib.c **** PORTE |= BM(pin);
 520:../../../src/platform/firefly3/source/ulib.c **** }
 521:../../../src/platform/firefly3/source/ulib.c **** 
 522:../../../src/platform/firefly3/source/ulib.c **** void IO_CLR_E(uint8_t pin)
 523:../../../src/platform/firefly3/source/ulib.c **** {
 524:../../../src/platform/firefly3/source/ulib.c **** PORTE &= ~BM(pin);
 525:../../../src/platform/firefly3/source/ulib.c **** }
 526:../../../src/platform/firefly3/source/ulib.c **** 
 527:../../../src/platform/firefly3/source/ulib.c **** void IO_SET_F(uint8_t pin)
 528:../../../src/platform/firefly3/source/ulib.c **** {
 529:../../../src/platform/firefly3/source/ulib.c **** PORTF |= BM(pin);
 530:../../../src/platform/firefly3/source/ulib.c **** }
 531:../../../src/platform/firefly3/source/ulib.c **** 
 532:../../../src/platform/firefly3/source/ulib.c **** void IO_CLR_F(uint8_t pin)
 533:../../../src/platform/firefly3/source/ulib.c **** {
 534:../../../src/platform/firefly3/source/ulib.c **** PORTF &= ~BM(pin);
 535:../../../src/platform/firefly3/source/ulib.c **** }
 536:../../../src/platform/firefly3/source/ulib.c **** */
 537:../../../src/platform/firefly3/source/ulib.c **** 
 538:../../../src/platform/firefly3/source/ulib.c **** void putc0(char x)
 539:../../../src/platform/firefly3/source/ulib.c **** {
 310               	.LM0:
 311               	.LFBB1:
 312               	/* prologue: function */
 313               	/* frame size = 0 */
 314               	/* stack size = 0 */
 315               	.L__stack_usage = 0
 316               	.L2:
 540:../../../src/platform/firefly3/source/ulib.c ****      UART0_WAIT_AND_SEND(x);
 318               	.LM1:
 319 0000 9091 C000 		lds r25,192
 320 0004 95FF      		sbrs r25,5
 321 0006 00C0      		rjmp .L2
 323               	.LM2:
 324 0008 9091 C000 		lds r25,192
 325 000c 9F7D      		andi r25,lo8(-33)
 326 000e 9093 C000 		sts 192,r25
 327 0012 8093 C600 		sts 198,r24
 328 0016 0895      		ret
 330               	.Lscope1:
 332               		.stabd	78,0,0
 334               	.global	__vector_25
 336               	__vector_25:
 337               		.stabd	46,0,0
  55:../../../src/platform/firefly3/source/ulib.c **** char c;
 339               	.LM3:
 340               	.LFBB2:
 341 0018 1F92      		push r1
 342 001a 0F92      		push r0
 343 001c 0FB6      		in r0,__SREG__
 344 001e 0F92      		push r0
 345 0020 1124      		clr __zero_reg__
 346 0022 0BB6      		in r0,__RAMPZ__
 347 0024 0F92      		push r0
 348 0026 2F93      		push r18
 349 0028 3F93      		push r19
 350 002a 4F93      		push r20
 351 002c 5F93      		push r21
 352 002e 6F93      		push r22
 353 0030 7F93      		push r23
 354 0032 8F93      		push r24
 355 0034 9F93      		push r25
 356 0036 AF93      		push r26
 357 0038 BF93      		push r27
 358 003a EF93      		push r30
 359 003c FF93      		push r31
 360               	/* prologue: Signal */
 361               	/* frame size = 0 */
 362               	/* stack size = 16 */
 363               	.L__stack_usage = 16
  58:../../../src/platform/firefly3/source/ulib.c **** // cli();
 365               	.LM4:
 366 003e 0E94 0000 		call nrk_int_disable
 367               	.L7:
  61:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf[uart_rx_buf_end]=c;
 369               	.LM5:
 370 0042 8091 C000 		lds r24,192
 371 0046 87FF      		sbrs r24,7
 372 0048 00C0      		rjmp .L7
  61:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf[uart_rx_buf_end]=c;
 374               	.LM6:
 375 004a 8091 C000 		lds r24,192
 376 004e 8F77      		andi r24,lo8(127)
 377 0050 8093 C000 		sts 192,r24
 378 0054 2091 C600 		lds r18,198
  62:../../../src/platform/firefly3/source/ulib.c ****    //if(uart_rx_buf_end==uart_rx_buf_start) sig=1; else sig=0;
 380               	.LM7:
 381 0058 8091 0000 		lds r24,uart_rx_buf_end
 382 005c 9091 0000 		lds r25,uart_rx_buf_end+1
 383 0060 FC01      		movw r30,r24
 384 0062 E050      		subi r30,lo8(-(uart_rx_buf))
 385 0064 F040      		sbci r31,hi8(-(uart_rx_buf))
 386 0066 2083      		st Z,r18
  64:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_end==MAX_RX_UART_BUF) {
 388               	.LM8:
 389 0068 0196      		adiw r24,1
  65:../../../src/platform/firefly3/source/ulib.c **** 	   uart_rx_buf_end=0;
 391               	.LM9:
 392 006a 8031      		cpi r24,16
 393 006c 9105      		cpc r25,__zero_reg__
 394 006e 01F0      		breq .L8
  64:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_end==MAX_RX_UART_BUF) {
 396               	.LM10:
 397 0070 9093 0000 		sts uart_rx_buf_end+1,r25
 398 0074 8093 0000 		sts uart_rx_buf_end,r24
 399 0078 00C0      		rjmp .L9
 400               	.L8:
  66:../../../src/platform/firefly3/source/ulib.c **** 		   }
 402               	.LM11:
 403 007a 1092 0000 		sts uart_rx_buf_end+1,__zero_reg__
 404 007e 1092 0000 		sts uart_rx_buf_end,__zero_reg__
 405               	.L9:
  69:../../../src/platform/firefly3/source/ulib.c **** CLEAR_UART0_RX_INT();
 407               	.LM12:
 408 0082 8091 0000 		lds r24,uart_rx_signal
 409 0086 0E94 0000 		call nrk_event_signal
  70:../../../src/platform/firefly3/source/ulib.c **** //ENABLE_UART0_RX_INT();
 411               	.LM13:
 412 008a 8091 C000 		lds r24,192
 413 008e 8F77      		andi r24,lo8(127)
 414 0090 8093 C000 		sts 192,r24
  73:../../../src/platform/firefly3/source/ulib.c **** }
 416               	.LM14:
 417 0094 0E94 0000 		call nrk_int_enable
 418               	/* epilogue start */
  74:../../../src/platform/firefly3/source/ulib.c **** 
 420               	.LM15:
 421 0098 FF91      		pop r31
 422 009a EF91      		pop r30
 423 009c BF91      		pop r27
 424 009e AF91      		pop r26
 425 00a0 9F91      		pop r25
 426 00a2 8F91      		pop r24
 427 00a4 7F91      		pop r23
 428 00a6 6F91      		pop r22
 429 00a8 5F91      		pop r21
 430 00aa 4F91      		pop r20
 431 00ac 3F91      		pop r19
 432 00ae 2F91      		pop r18
 433 00b0 0F90      		pop r0
 434 00b2 0BBE      		out __RAMPZ__,r0
 435 00b4 0F90      		pop r0
 436 00b6 0FBE      		out __SREG__,r0
 437 00b8 0F90      		pop r0
 438 00ba 1F90      		pop r1
 439 00bc 1895      		reti
 444               	.Lscope2:
 446               		.stabd	78,0,0
 449               	.global	nrk_uart_data_ready
 451               	nrk_uart_data_ready:
 452               		.stabd	46,0,0
  91:../../../src/platform/firefly3/source/ulib.c **** if(uart_num==0)
 454               	.LM16:
 455               	.LFBB3:
 456               	/* prologue: function */
 457               	/* frame size = 0 */
 458               	/* stack size = 0 */
 459               	.L__stack_usage = 0
  92:../../../src/platform/firefly3/source/ulib.c ****         {
 461               	.LM17:
 462 00be 8111      		cpse r24,__zero_reg__
 463 00c0 00C0      		rjmp .L12
  95:../../../src/platform/firefly3/source/ulib.c ****         }
 465               	.LM18:
 466 00c2 81E0      		ldi r24,lo8(1)
 467 00c4 4091 0000 		lds r20,uart_rx_buf_start
 468 00c8 5091 0000 		lds r21,uart_rx_buf_start+1
 469 00cc 2091 0000 		lds r18,uart_rx_buf_end
 470 00d0 3091 0000 		lds r19,uart_rx_buf_end+1
 471 00d4 4217      		cp r20,r18
 472 00d6 5307      		cpc r21,r19
 473 00d8 01F4      		brne .L14
 474 00da 00C0      		rjmp .L15
 475               	.L12:
  97:../../../src/platform/firefly3/source/ulib.c **** 	{
 477               	.LM19:
 478 00dc 8130      		cpi r24,lo8(1)
 479 00de 01F4      		brne .L15
  99:../../../src/platform/firefly3/source/ulib.c **** 	//if(uart_rx_buf_start!=uart_rx_buf_end) return 1;
 481               	.LM20:
 482 00e0 8091 C800 		lds r24,200
 483 00e4 881F      		rol r24
 484 00e6 8827      		clr r24
 485 00e8 881F      		rol r24
 486 00ea 0895      		ret
 487               	.L15:
 102:../../../src/platform/firefly3/source/ulib.c **** }
 489               	.LM21:
 490 00ec 80E0      		ldi r24,0
 491               	.L14:
 103:../../../src/platform/firefly3/source/ulib.c **** 
 493               	.LM22:
 494 00ee 0895      		ret
 496               	.Lscope3:
 498               		.stabd	78,0,0
 500               	.global	nrk_uart_rx_signal_get
 502               	nrk_uart_rx_signal_get:
 503               		.stabd	46,0,0
 106:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 505               	.LM23:
 506               	.LFBB4:
 507               	/* prologue: function */
 508               	/* frame size = 0 */
 509               	/* stack size = 0 */
 510               	.L__stack_usage = 0
 107:../../../src/platform/firefly3/source/ulib.c ****    return uart_rx_signal;
 512               	.LM24:
 513 00f0 8091 0000 		lds r24,uart_rx_signal
 514 00f4 8F3F      		cpi r24,lo8(-1)
 515 00f6 01F4      		brne .L17
 107:../../../src/platform/firefly3/source/ulib.c ****    return uart_rx_signal;
 517               	.LM25:
 518 00f8 8EE0      		ldi r24,lo8(14)
 519 00fa 0E94 0000 		call nrk_error_add
 520               	.L17:
 109:../../../src/platform/firefly3/source/ulib.c **** 
 522               	.LM26:
 523 00fe 8091 0000 		lds r24,uart_rx_signal
 524 0102 0895      		ret
 526               	.Lscope4:
 528               		.stabd	78,0,0
 531               	.global	nrk_kprintf
 533               	nrk_kprintf:
 534               		.stabd	46,0,0
 141:../../../src/platform/firefly3/source/ulib.c ****  char c;
 536               	.LM27:
 537               	.LFBB5:
 538 0104 CF93      		push r28
 539 0106 DF93      		push r29
 540               	/* prologue: function */
 541               	/* frame size = 0 */
 542               	/* stack size = 2 */
 543               	.L__stack_usage = 2
 544               	.L19:
 545               	.LBB2:
 143:../../../src/platform/firefly3/source/ulib.c ****         putchar(c);
 547               	.LM28:
 548 0108 FC01      		movw r30,r24
 549               	/* #APP */
 550               	 ;  143 "../../../src/platform/firefly3/source/ulib.c" 1
 551 010a 2491      		lpm r18, Z
 552               		
 553               	 ;  0 "" 2
 554               	/* #NOAPP */
 555 010c EC01      		movw r28,r24
 556 010e 2196      		adiw r28,1
 557               	.LBE2:
 558 0110 2223      		tst r18
 559 0112 01F0      		breq .L21
 144:../../../src/platform/firefly3/source/ulib.c **** }
 561               	.LM29:
 562 0114 6091 0000 		lds r22,__iob+2
 563 0118 7091 0000 		lds r23,__iob+2+1
 564 011c 822F      		mov r24,r18
 565 011e 90E0      		ldi r25,0
 566 0120 0E94 0000 		call fputc
 567 0124 CE01      		movw r24,r28
 568 0126 00C0      		rjmp .L19
 569               	.L21:
 570               	/* epilogue start */
 145:../../../src/platform/firefly3/source/ulib.c **** 
 572               	.LM30:
 573 0128 DF91      		pop r29
 574 012a CF91      		pop r28
 575 012c 0895      		ret
 580               	.Lscope5:
 582               		.stabd	78,0,0
 584               	.global	getc0
 586               	getc0:
 587               		.stabd	46,0,0
  77:../../../src/platform/firefly3/source/ulib.c **** char tmp;
 589               	.LM31:
 590               	.LFBB6:
 591               	/* prologue: function */
 592               	/* frame size = 0 */
 593               	/* stack size = 0 */
 594               	.L__stack_usage = 0
  81:../../../src/platform/firefly3/source/ulib.c **** if(v==NRK_ERROR ) nrk_kprintf(PSTR("uart rx sig failed\r\n" ));
 596               	.LM32:
 597 012e 2091 0000 		lds r18,uart_rx_buf_start
 598 0132 3091 0000 		lds r19,uart_rx_buf_start+1
 599 0136 8091 0000 		lds r24,uart_rx_buf_end
 600 013a 9091 0000 		lds r25,uart_rx_buf_end+1
 601 013e 2817      		cp r18,r24
 602 0140 3907      		cpc r19,r25
 603 0142 01F4      		brne .L23
  81:../../../src/platform/firefly3/source/ulib.c **** if(v==NRK_ERROR ) nrk_kprintf(PSTR("uart rx sig failed\r\n" ));
 605               	.LM33:
 606 0144 8091 0000 		lds r24,uart_rx_signal
 607 0148 0E94 0000 		call nrk_signal_register
 608 014c 6091 0000 		lds r22,uart_rx_signal
 609 0150 7727      		clr r23
 610 0152 67FD      		sbrc r22,7
 611 0154 7095      		com r23
 612 0156 872F      		mov r24,r23
 613 0158 972F      		mov r25,r23
 614 015a 0E94 0000 		call nrk_event_wait
 615               	.L23:
  82:../../../src/platform/firefly3/source/ulib.c ****    tmp=uart_rx_buf[uart_rx_buf_start];
 617               	.LM34:
 618 015e 6F3F      		cpi r22,lo8(-1)
 619 0160 01F4      		brne .L24
  82:../../../src/platform/firefly3/source/ulib.c ****    tmp=uart_rx_buf[uart_rx_buf_start];
 621               	.LM35:
 622 0162 80E0      		ldi r24,lo8(__c.3125)
 623 0164 90E0      		ldi r25,hi8(__c.3125)
 624 0166 0E94 0000 		call nrk_kprintf
 625               	.L24:
  83:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf_start++;
 627               	.LM36:
 628 016a 2091 0000 		lds r18,uart_rx_buf_start
 629 016e 3091 0000 		lds r19,uart_rx_buf_start+1
 630 0172 F901      		movw r30,r18
 631 0174 E050      		subi r30,lo8(-(uart_rx_buf))
 632 0176 F040      		sbci r31,hi8(-(uart_rx_buf))
 633 0178 8081      		ld r24,Z
  84:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_start>=MAX_RX_UART_BUF) { uart_rx_buf_start=0; }
 635               	.LM37:
 636 017a 2F5F      		subi r18,-1
 637 017c 3F4F      		sbci r19,-1
  85:../../../src/platform/firefly3/source/ulib.c **** 
 639               	.LM38:
 640 017e 2031      		cpi r18,16
 641 0180 3105      		cpc r19,__zero_reg__
 642 0182 00F4      		brsh .L25
  84:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_buf_start>=MAX_RX_UART_BUF) { uart_rx_buf_start=0; }
 644               	.LM39:
 645 0184 3093 0000 		sts uart_rx_buf_start+1,r19
 646 0188 2093 0000 		sts uart_rx_buf_start,r18
 647 018c 0895      		ret
 648               	.L25:
  85:../../../src/platform/firefly3/source/ulib.c **** 
 650               	.LM40:
 651 018e 1092 0000 		sts uart_rx_buf_start+1,__zero_reg__
 652 0192 1092 0000 		sts uart_rx_buf_start,__zero_reg__
  88:../../../src/platform/firefly3/source/ulib.c **** 
 654               	.LM41:
 655 0196 0895      		ret
 661               	.Lscope6:
 663               		.stabd	78,0,0
 665               	.global	PORT_INIT
 667               	PORT_INIT:
 668               		.stabd	46,0,0
 268:../../../src/platform/firefly3/source/ulib.c **** 	// Pull-up disable
 670               	.LM42:
 671               	.LFBB7:
 672               	/* prologue: function */
 673               	/* frame size = 0 */
 674               	/* stack size = 0 */
 675               	.L__stack_usage = 0
 276:../../../src/platform/firefly3/source/ulib.c ****         PORTB = BM(MOSI) | BM(SCK); 
 677               	.LM43:
 678 0198 86E0      		ldi r24,lo8(6)
 679 019a 84B9      		out 0x4,r24
 277:../../../src/platform/firefly3/source/ulib.c **** #endif
 681               	.LM44:
 682 019c 85B9      		out 0x5,r24
 279:../../../src/platform/firefly3/source/ulib.c **** 	PORTD = BM(LED_0)|BM(LED_1)|BM(LED_2)|BM(LED_3);
 684               	.LM45:
 685 019e 88EF      		ldi r24,lo8(-8)
 686 01a0 8AB9      		out 0xa,r24
 280:../../../src/platform/firefly3/source/ulib.c ****         DDRE = BM(UART0_TXD); 
 688               	.LM46:
 689 01a2 80EF      		ldi r24,lo8(-16)
 690 01a4 8BB9      		out 0xb,r24
 281:../../../src/platform/firefly3/source/ulib.c **** } 
 692               	.LM47:
 693 01a6 82E0      		ldi r24,lo8(2)
 694 01a8 8DB9      		out 0xd,r24
 695 01aa 0895      		ret
 697               	.Lscope7:
 699               		.stabd	78,0,0
 701               	.global	nrk_setup_ports
 703               	nrk_setup_ports:
 704               		.stabd	46,0,0
 148:../../../src/platform/firefly3/source/ulib.c **** PORT_INIT();
 706               	.LM48:
 707               	.LFBB8:
 708               	/* prologue: function */
 709               	/* frame size = 0 */
 710               	/* stack size = 0 */
 711               	.L__stack_usage = 0
 149:../../../src/platform/firefly3/source/ulib.c **** //SPI_INIT();
 713               	.LM49:
 714 01ac 0C94 0000 		jmp PORT_INIT
 716               	.Lscope8:
 718               		.stabd	78,0,0
 721               	.global	nrk_gpio_set
 723               	nrk_gpio_set:
 724               		.stabd	46,0,0
 290:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 726               	.LM50:
 727               	.LFBB9:
 728               	/* prologue: function */
 729               	/* frame size = 0 */
 730               	/* stack size = 0 */
 731               	.L__stack_usage = 0
 291:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 733               	.LM51:
 734 01b0 8F3F      		cpi r24,lo8(-1)
 735 01b2 01F4      		brne .+2
 736 01b4 00C0      		rjmp .L40
 292:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 738               	.LM52:
 739 01b6 E82F      		mov r30,r24
 740 01b8 E770      		andi r30,lo8(7)
 741 01ba 4E2F      		mov r20,r30
 742 01bc 50E0      		ldi r21,0
 743 01be 4730      		cpi r20,7
 744 01c0 5105      		cpc r21,__zero_reg__
 745 01c2 00F0      		brlo .+2
 746 01c4 00C0      		rjmp .L40
 747 01c6 FA01      		movw r30,r20
 748 01c8 E050      		subi r30,lo8(-(gs(.L32)))
 749 01ca F040      		sbci r31,hi8(-(gs(.L32)))
 750 01cc 8695      		lsr r24
 751 01ce 8695      		lsr r24
 752 01d0 8695      		lsr r24
 753 01d2 0C94 0000 		jmp __tablejump2__
 754               		.section	.progmem.gcc_sw_table,"a",@progbits
 755               		.p2align	1
 756               	.L32:
 757 0000 0000      		.word gs(.L31)
 758 0002 0000      		.word gs(.L33)
 759 0004 0000      		.word gs(.L34)
 760 0006 0000      		.word gs(.L35)
 761 0008 0000      		.word gs(.L36)
 762 000a 0000      		.word gs(.L37)
 763 000c 0000      		.word gs(.L38)
 764               		.text
 765               	.L31:
 294:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 767               	.LM53:
 768 01d6 42B1      		in r20,0x2
 769 01d8 21E0      		ldi r18,lo8(1)
 770 01da 30E0      		ldi r19,0
 771 01dc B901      		movw r22,r18
 772 01de 00C0      		rjmp 2f
 773               		1:
 774 01e0 660F      		lsl r22
 775 01e2 771F      		rol r23
 776               		2:
 777 01e4 8A95      		dec r24
 778 01e6 02F4      		brpl 1b
 779 01e8 CB01      		movw r24,r22
 780 01ea 842B      		or r24,r20
 781 01ec 82B9      		out 0x2,r24
 782 01ee 00C0      		rjmp .L41
 783               	.L33:
 296:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 785               	.LM54:
 786 01f0 45B1      		in r20,0x5
 787 01f2 21E0      		ldi r18,lo8(1)
 788 01f4 30E0      		ldi r19,0
 789 01f6 B901      		movw r22,r18
 790 01f8 00C0      		rjmp 2f
 791               		1:
 792 01fa 660F      		lsl r22
 793 01fc 771F      		rol r23
 794               		2:
 795 01fe 8A95      		dec r24
 796 0200 02F4      		brpl 1b
 797 0202 CB01      		movw r24,r22
 798 0204 842B      		or r24,r20
 799 0206 85B9      		out 0x5,r24
 800 0208 00C0      		rjmp .L41
 801               	.L34:
 298:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 803               	.LM55:
 804 020a 48B1      		in r20,0x8
 805 020c 21E0      		ldi r18,lo8(1)
 806 020e 30E0      		ldi r19,0
 807 0210 B901      		movw r22,r18
 808 0212 00C0      		rjmp 2f
 809               		1:
 810 0214 660F      		lsl r22
 811 0216 771F      		rol r23
 812               		2:
 813 0218 8A95      		dec r24
 814 021a 02F4      		brpl 1b
 815 021c CB01      		movw r24,r22
 816 021e 842B      		or r24,r20
 817 0220 88B9      		out 0x8,r24
 818 0222 00C0      		rjmp .L41
 819               	.L35:
 300:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 821               	.LM56:
 822 0224 4BB1      		in r20,0xb
 823 0226 21E0      		ldi r18,lo8(1)
 824 0228 30E0      		ldi r19,0
 825 022a B901      		movw r22,r18
 826 022c 00C0      		rjmp 2f
 827               		1:
 828 022e 660F      		lsl r22
 829 0230 771F      		rol r23
 830               		2:
 831 0232 8A95      		dec r24
 832 0234 02F4      		brpl 1b
 833 0236 CB01      		movw r24,r22
 834 0238 842B      		or r24,r20
 835 023a 8BB9      		out 0xb,r24
 836 023c 00C0      		rjmp .L41
 837               	.L36:
 302:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 839               	.LM57:
 840 023e 4EB1      		in r20,0xe
 841 0240 21E0      		ldi r18,lo8(1)
 842 0242 30E0      		ldi r19,0
 843 0244 B901      		movw r22,r18
 844 0246 00C0      		rjmp 2f
 845               		1:
 846 0248 660F      		lsl r22
 847 024a 771F      		rol r23
 848               		2:
 849 024c 8A95      		dec r24
 850 024e 02F4      		brpl 1b
 851 0250 CB01      		movw r24,r22
 852 0252 842B      		or r24,r20
 853 0254 8EB9      		out 0xe,r24
 854 0256 00C0      		rjmp .L41
 855               	.L37:
 304:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 857               	.LM58:
 858 0258 41B3      		in r20,0x11
 859 025a 21E0      		ldi r18,lo8(1)
 860 025c 30E0      		ldi r19,0
 861 025e B901      		movw r22,r18
 862 0260 00C0      		rjmp 2f
 863               		1:
 864 0262 660F      		lsl r22
 865 0264 771F      		rol r23
 866               		2:
 867 0266 8A95      		dec r24
 868 0268 02F4      		brpl 1b
 869 026a CB01      		movw r24,r22
 870 026c 842B      		or r24,r20
 871 026e 81BB      		out 0x11,r24
 872 0270 00C0      		rjmp .L41
 873               	.L38:
 306:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 875               	.LM59:
 876 0272 44B3      		in r20,0x14
 877 0274 21E0      		ldi r18,lo8(1)
 878 0276 30E0      		ldi r19,0
 879 0278 B901      		movw r22,r18
 880 027a 00C0      		rjmp 2f
 881               		1:
 882 027c 660F      		lsl r22
 883 027e 771F      		rol r23
 884               		2:
 885 0280 8A95      		dec r24
 886 0282 02F4      		brpl 1b
 887 0284 CB01      		movw r24,r22
 888 0286 842B      		or r24,r20
 889 0288 84BB      		out 0x14,r24
 890               	.L41:
 309:../../../src/platform/firefly3/source/ulib.c **** }
 892               	.LM60:
 893 028a 81E0      		ldi r24,lo8(1)
 306:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 895               	.LM61:
 896 028c 0895      		ret
 897               	.L40:
 307:../../../src/platform/firefly3/source/ulib.c ****         }
 899               	.LM62:
 900 028e 8FEF      		ldi r24,lo8(-1)
 310:../../../src/platform/firefly3/source/ulib.c **** 
 902               	.LM63:
 903 0290 0895      		ret
 905               	.Lscope9:
 907               		.stabd	78,0,0
 910               	.global	nrk_gpio_clr
 912               	nrk_gpio_clr:
 913               		.stabd	46,0,0
 313:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 915               	.LM64:
 916               	.LFBB10:
 917               	/* prologue: function */
 918               	/* frame size = 0 */
 919               	/* stack size = 0 */
 920               	.L__stack_usage = 0
 314:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 922               	.LM65:
 923 0292 8F3F      		cpi r24,lo8(-1)
 924 0294 01F4      		brne .+2
 925 0296 00C0      		rjmp .L53
 315:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 927               	.LM66:
 928 0298 E82F      		mov r30,r24
 929 029a E770      		andi r30,lo8(7)
 930 029c 4E2F      		mov r20,r30
 931 029e 50E0      		ldi r21,0
 932 02a0 4730      		cpi r20,7
 933 02a2 5105      		cpc r21,__zero_reg__
 934 02a4 00F0      		brlo .+2
 935 02a6 00C0      		rjmp .L53
 936 02a8 FA01      		movw r30,r20
 937 02aa E050      		subi r30,lo8(-(gs(.L45)))
 938 02ac F040      		sbci r31,hi8(-(gs(.L45)))
 939 02ae 8695      		lsr r24
 940 02b0 8695      		lsr r24
 941 02b2 8695      		lsr r24
 942 02b4 0C94 0000 		jmp __tablejump2__
 943               		.section	.progmem.gcc_sw_table,"a",@progbits
 944               		.p2align	1
 945               	.L45:
 946 000e 0000      		.word gs(.L44)
 947 0010 0000      		.word gs(.L46)
 948 0012 0000      		.word gs(.L47)
 949 0014 0000      		.word gs(.L48)
 950 0016 0000      		.word gs(.L49)
 951 0018 0000      		.word gs(.L51)
 952 001a 0000      		.word gs(.L51)
 953               		.text
 954               	.L44:
 317:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 956               	.LM67:
 957 02b8 42B1      		in r20,0x2
 958 02ba 21E0      		ldi r18,lo8(1)
 959 02bc 30E0      		ldi r19,0
 960 02be B901      		movw r22,r18
 961 02c0 00C0      		rjmp 2f
 962               		1:
 963 02c2 660F      		lsl r22
 964 02c4 771F      		rol r23
 965               		2:
 966 02c6 8A95      		dec r24
 967 02c8 02F4      		brpl 1b
 968 02ca CB01      		movw r24,r22
 969 02cc 8095      		com r24
 970 02ce 8423      		and r24,r20
 971 02d0 82B9      		out 0x2,r24
 972 02d2 00C0      		rjmp .L54
 973               	.L46:
 319:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 975               	.LM68:
 976 02d4 45B1      		in r20,0x5
 977 02d6 21E0      		ldi r18,lo8(1)
 978 02d8 30E0      		ldi r19,0
 979 02da B901      		movw r22,r18
 980 02dc 00C0      		rjmp 2f
 981               		1:
 982 02de 660F      		lsl r22
 983 02e0 771F      		rol r23
 984               		2:
 985 02e2 8A95      		dec r24
 986 02e4 02F4      		brpl 1b
 987 02e6 CB01      		movw r24,r22
 988 02e8 8095      		com r24
 989 02ea 8423      		and r24,r20
 990 02ec 85B9      		out 0x5,r24
 991 02ee 00C0      		rjmp .L54
 992               	.L47:
 321:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 994               	.LM69:
 995 02f0 48B1      		in r20,0x8
 996 02f2 21E0      		ldi r18,lo8(1)
 997 02f4 30E0      		ldi r19,0
 998 02f6 B901      		movw r22,r18
 999 02f8 00C0      		rjmp 2f
 1000               		1:
 1001 02fa 660F      		lsl r22
 1002 02fc 771F      		rol r23
 1003               		2:
 1004 02fe 8A95      		dec r24
 1005 0300 02F4      		brpl 1b
 1006 0302 CB01      		movw r24,r22
 1007 0304 8095      		com r24
 1008 0306 8423      		and r24,r20
 1009 0308 88B9      		out 0x8,r24
 1010 030a 00C0      		rjmp .L54
 1011               	.L48:
 323:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 1013               	.LM70:
 1014 030c 4BB1      		in r20,0xb
 1015 030e 21E0      		ldi r18,lo8(1)
 1016 0310 30E0      		ldi r19,0
 1017 0312 B901      		movw r22,r18
 1018 0314 00C0      		rjmp 2f
 1019               		1:
 1020 0316 660F      		lsl r22
 1021 0318 771F      		rol r23
 1022               		2:
 1023 031a 8A95      		dec r24
 1024 031c 02F4      		brpl 1b
 1025 031e CB01      		movw r24,r22
 1026 0320 8095      		com r24
 1027 0322 8423      		and r24,r20
 1028 0324 8BB9      		out 0xb,r24
 1029 0326 00C0      		rjmp .L54
 1030               	.L49:
 325:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 1032               	.LM71:
 1033 0328 4EB1      		in r20,0xe
 1034 032a 21E0      		ldi r18,lo8(1)
 1035 032c 30E0      		ldi r19,0
 1036 032e B901      		movw r22,r18
 1037 0330 00C0      		rjmp 2f
 1038               		1:
 1039 0332 660F      		lsl r22
 1040 0334 771F      		rol r23
 1041               		2:
 1042 0336 8A95      		dec r24
 1043 0338 02F4      		brpl 1b
 1044 033a CB01      		movw r24,r22
 1045 033c 8095      		com r24
 1046 033e 8423      		and r24,r20
 1047 0340 8EB9      		out 0xe,r24
 1048 0342 00C0      		rjmp .L54
 1049               	.L51:
 329:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 1051               	.LM72:
 1052 0344 41B3      		in r20,0x11
 1053 0346 21E0      		ldi r18,lo8(1)
 1054 0348 30E0      		ldi r19,0
 1055 034a B901      		movw r22,r18
 1056 034c 00C0      		rjmp 2f
 1057               		1:
 1058 034e 660F      		lsl r22
 1059 0350 771F      		rol r23
 1060               		2:
 1061 0352 8A95      		dec r24
 1062 0354 02F4      		brpl 1b
 1063 0356 CB01      		movw r24,r22
 1064 0358 8095      		com r24
 1065 035a 8423      		and r24,r20
 1066 035c 81BB      		out 0x11,r24
 1067               	.L54:
 332:../../../src/platform/firefly3/source/ulib.c **** }
 1069               	.LM73:
 1070 035e 81E0      		ldi r24,lo8(1)
 329:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 1072               	.LM74:
 1073 0360 0895      		ret
 1074               	.L53:
 330:../../../src/platform/firefly3/source/ulib.c ****         }
 1076               	.LM75:
 1077 0362 8FEF      		ldi r24,lo8(-1)
 333:../../../src/platform/firefly3/source/ulib.c **** 
 1079               	.LM76:
 1080 0364 0895      		ret
 1082               	.Lscope10:
 1084               		.stabd	78,0,0
 1087               	.global	nrk_gpio_get
 1089               	nrk_gpio_get:
 1090               		.stabd	46,0,0
 336:../../../src/platform/firefly3/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 1092               	.LM77:
 1093               	.LFBB11:
 1094               	/* prologue: function */
 1095               	/* frame size = 0 */
 1096               	/* stack size = 0 */
 1097               	.L__stack_usage = 0
 337:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 1099               	.LM78:
 1100 0366 8F3F      		cpi r24,lo8(-1)
 1101 0368 01F0      		breq .L66
 338:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 1103               	.LM79:
 1104 036a E82F      		mov r30,r24
 1105 036c E770      		andi r30,lo8(7)
 1106 036e 4E2F      		mov r20,r30
 1107 0370 50E0      		ldi r21,0
 1108 0372 4730      		cpi r20,7
 1109 0374 5105      		cpc r21,__zero_reg__
 1110 0376 00F4      		brsh .L66
 1111 0378 FA01      		movw r30,r20
 1112 037a E050      		subi r30,lo8(-(gs(.L58)))
 1113 037c F040      		sbci r31,hi8(-(gs(.L58)))
 1114 037e 282F      		mov r18,r24
 1115 0380 2695      		lsr r18
 1116 0382 2695      		lsr r18
 1117 0384 2695      		lsr r18
 1118 0386 0C94 0000 		jmp __tablejump2__
 1119               		.section	.progmem.gcc_sw_table,"a",@progbits
 1120               		.p2align	1
 1121               	.L58:
 1122 001c 0000      		.word gs(.L57)
 1123 001e 0000      		.word gs(.L59)
 1124 0020 0000      		.word gs(.L60)
 1125 0022 0000      		.word gs(.L61)
 1126 0024 0000      		.word gs(.L62)
 1127 0026 0000      		.word gs(.L63)
 1128 0028 0000      		.word gs(.L64)
 1129               		.text
 1130               	.L57:
 340:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTB:
 1132               	.LM80:
 1133 038a 90B1      		in r25,0
 1134 038c 00C0      		rjmp .L67
 1135               	.L59:
 342:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTC:
 1137               	.LM81:
 1138 038e 93B1      		in r25,0x3
 1139 0390 00C0      		rjmp .L67
 1140               	.L60:
 344:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTD:
 1142               	.LM82:
 1143 0392 96B1      		in r25,0x6
 1144 0394 00C0      		rjmp .L67
 1145               	.L61:
 346:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTE:
 1147               	.LM83:
 1148 0396 99B1      		in r25,0x9
 1149 0398 00C0      		rjmp .L67
 1150               	.L62:
 348:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTF:
 1152               	.LM84:
 1153 039a 9CB1      		in r25,0xc
 1154 039c 00C0      		rjmp .L67
 1155               	.L63:
 350:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTG:
 1157               	.LM85:
 1158 039e 9FB1      		in r25,0xf
 1159 03a0 00C0      		rjmp .L67
 1160               	.L64:
 352:../../../src/platform/firefly3/source/ulib.c ****                 default: return -1;
 1162               	.LM86:
 1163 03a2 92B3      		in r25,0x12
 1164               	.L67:
 1165 03a4 892F      		mov r24,r25
 1166 03a6 90E0      		ldi r25,0
 1167 03a8 00C0      		rjmp 2f
 1168               		1:
 1169 03aa 9595      		asr r25
 1170 03ac 8795      		ror r24
 1171               		2:
 1172 03ae 2A95      		dec r18
 1173 03b0 02F4      		brpl 1b
 1174 03b2 8170      		andi r24,lo8(1)
 1175 03b4 0895      		ret
 1176               	.L66:
 353:../../../src/platform/firefly3/source/ulib.c ****         }
 1178               	.LM87:
 1179 03b6 8FEF      		ldi r24,lo8(-1)
 356:../../../src/platform/firefly3/source/ulib.c **** 
 1181               	.LM88:
 1182 03b8 0895      		ret
 1184               	.Lscope11:
 1186               		.stabd	78,0,0
 1189               	.global	nrk_gpio_toggle
 1191               	nrk_gpio_toggle:
 1192               		.stabd	46,0,0
 359:../../../src/platform/firefly3/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 1194               	.LM89:
 1195               	.LFBB12:
 1196               	/* prologue: function */
 1197               	/* frame size = 0 */
 1198               	/* stack size = 0 */
 1199               	.L__stack_usage = 0
 360:../../../src/platform/firefly3/source/ulib.c ****         switch (pin & 0x07) {
 1201               	.LM90:
 1202 03ba 8F3F      		cpi r24,lo8(-1)
 1203 03bc 01F4      		brne .+2
 1204 03be 00C0      		rjmp .L86
 361:../../../src/platform/firefly3/source/ulib.c ****                 case NRK_PORTA:
 1206               	.LM91:
 1207 03c0 E82F      		mov r30,r24
 1208 03c2 E770      		andi r30,lo8(7)
 1209 03c4 4E2F      		mov r20,r30
 1210 03c6 50E0      		ldi r21,0
 1211 03c8 4730      		cpi r20,7
 1212 03ca 5105      		cpc r21,__zero_reg__
 1213 03cc 00F0      		brlo .+2
 1214 03ce 00C0      		rjmp .L86
 1215 03d0 FA01      		movw r30,r20
 1216 03d2 E050      		subi r30,lo8(-(gs(.L71)))
 1217 03d4 F040      		sbci r31,hi8(-(gs(.L71)))
 1218 03d6 8695      		lsr r24
 1219 03d8 8695      		lsr r24
 1220 03da 8695      		lsr r24
 1221 03dc 0C94 0000 		jmp __tablejump2__
 1222               		.section	.progmem.gcc_sw_table,"a",@progbits
 1223               		.p2align	1
 1224               	.L71:
 1225 002a 0000      		.word gs(.L70)
 1226 002c 0000      		.word gs(.L72)
 1227 002e 0000      		.word gs(.L73)
 1228 0030 0000      		.word gs(.L74)
 1229 0032 0000      		.word gs(.L75)
 1230 0034 0000      		.word gs(.L76)
 1231 0036 0000      		.word gs(.L77)
 1232               		.text
 1233               	.L70:
 363:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTA |= BM((pin & 0xF8) >> 3); } while(0);
 1235               	.LM92:
 1236 03e0 20B1      		in r18,0
 1237 03e2 30E0      		ldi r19,0
 1238 03e4 082E      		mov r0,r24
 1239 03e6 00C0      		rjmp 2f
 1240               		1:
 1241 03e8 3595      		asr r19
 1242 03ea 2795      		ror r18
 1243               		2:
 1244 03ec 0A94      		dec r0
 1245 03ee 02F4      		brpl 1b
 364:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1247               	.LM93:
 1248 03f0 42B1      		in r20,0x2
 363:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTA |= BM((pin & 0xF8) >> 3); } while(0);
 1250               	.LM94:
 1251 03f2 20FD      		sbrc r18,0
 1252 03f4 00C0      		rjmp .L78
 364:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1254               	.LM95:
 1255 03f6 21E0      		ldi r18,lo8(1)
 1256 03f8 30E0      		ldi r19,0
 1257 03fa B901      		movw r22,r18
 1258 03fc 00C0      		rjmp 2f
 1259               		1:
 1260 03fe 660F      		lsl r22
 1261 0400 771F      		rol r23
 1262               		2:
 1263 0402 8A95      		dec r24
 1264 0404 02F4      		brpl 1b
 1265 0406 CB01      		movw r24,r22
 1266 0408 842B      		or r24,r20
 1267 040a 00C0      		rjmp .L92
 1268               	.L78:
 366:../../../src/platform/firefly3/source/ulib.c ****                         }
 1270               	.LM96:
 1271 040c 21E0      		ldi r18,lo8(1)
 1272 040e 30E0      		ldi r19,0
 1273 0410 B901      		movw r22,r18
 1274 0412 00C0      		rjmp 2f
 1275               		1:
 1276 0414 660F      		lsl r22
 1277 0416 771F      		rol r23
 1278               		2:
 1279 0418 8A95      		dec r24
 1280 041a 02F4      		brpl 1b
 1281 041c CB01      		movw r24,r22
 1282 041e 8095      		com r24
 1283 0420 8423      		and r24,r20
 1284               	.L92:
 1285 0422 82B9      		out 0x2,r24
 1286 0424 00C0      		rjmp .L90
 1287               	.L72:
 370:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTB |= BM((pin & 0xF8) >> 3); } while(0);
 1289               	.LM97:
 1290 0426 23B1      		in r18,0x3
 1291 0428 30E0      		ldi r19,0
 1292 042a 082E      		mov r0,r24
 1293 042c 00C0      		rjmp 2f
 1294               		1:
 1295 042e 3595      		asr r19
 1296 0430 2795      		ror r18
 1297               		2:
 1298 0432 0A94      		dec r0
 1299 0434 02F4      		brpl 1b
 371:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1301               	.LM98:
 1302 0436 45B1      		in r20,0x5
 370:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTB |= BM((pin & 0xF8) >> 3); } while(0);
 1304               	.LM99:
 1305 0438 20FD      		sbrc r18,0
 1306 043a 00C0      		rjmp .L79
 371:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1308               	.LM100:
 1309 043c 21E0      		ldi r18,lo8(1)
 1310 043e 30E0      		ldi r19,0
 1311 0440 B901      		movw r22,r18
 1312 0442 00C0      		rjmp 2f
 1313               		1:
 1314 0444 660F      		lsl r22
 1315 0446 771F      		rol r23
 1316               		2:
 1317 0448 8A95      		dec r24
 1318 044a 02F4      		brpl 1b
 1319 044c CB01      		movw r24,r22
 1320 044e 842B      		or r24,r20
 1321               	.L91:
 1322 0450 85B9      		out 0x5,r24
 1323               	.L90:
 413:../../../src/platform/firefly3/source/ulib.c **** }
 1325               	.LM101:
 1326 0452 81E0      		ldi r24,lo8(1)
 1327 0454 0895      		ret
 1328               	.L79:
 373:../../../src/platform/firefly3/source/ulib.c ****                         }
 1330               	.LM102:
 1331 0456 21E0      		ldi r18,lo8(1)
 1332 0458 30E0      		ldi r19,0
 1333 045a B901      		movw r22,r18
 1334 045c 00C0      		rjmp 2f
 1335               		1:
 1336 045e 660F      		lsl r22
 1337 0460 771F      		rol r23
 1338               		2:
 1339 0462 8A95      		dec r24
 1340 0464 02F4      		brpl 1b
 1341 0466 CB01      		movw r24,r22
 1342 0468 8095      		com r24
 1343 046a 8423      		and r24,r20
 1344 046c 00C0      		rjmp .L91
 1345               	.L73:
 377:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTC |= BM((pin & 0xF8) >> 3); } while(0);
 1347               	.LM103:
 1348 046e 26B1      		in r18,0x6
 1349 0470 30E0      		ldi r19,0
 1350 0472 082E      		mov r0,r24
 1351 0474 00C0      		rjmp 2f
 1352               		1:
 1353 0476 3595      		asr r19
 1354 0478 2795      		ror r18
 1355               		2:
 1356 047a 0A94      		dec r0
 1357 047c 02F4      		brpl 1b
 378:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1359               	.LM104:
 1360 047e 48B1      		in r20,0x8
 377:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTC |= BM((pin & 0xF8) >> 3); } while(0);
 1362               	.LM105:
 1363 0480 20FD      		sbrc r18,0
 1364 0482 00C0      		rjmp .L80
 378:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1366               	.LM106:
 1367 0484 21E0      		ldi r18,lo8(1)
 1368 0486 30E0      		ldi r19,0
 1369 0488 B901      		movw r22,r18
 1370 048a 00C0      		rjmp 2f
 1371               		1:
 1372 048c 660F      		lsl r22
 1373 048e 771F      		rol r23
 1374               		2:
 1375 0490 8A95      		dec r24
 1376 0492 02F4      		brpl 1b
 1377 0494 CB01      		movw r24,r22
 1378 0496 842B      		or r24,r20
 1379 0498 00C0      		rjmp .L93
 1380               	.L80:
 380:../../../src/platform/firefly3/source/ulib.c ****                         }
 1382               	.LM107:
 1383 049a 21E0      		ldi r18,lo8(1)
 1384 049c 30E0      		ldi r19,0
 1385 049e B901      		movw r22,r18
 1386 04a0 00C0      		rjmp 2f
 1387               		1:
 1388 04a2 660F      		lsl r22
 1389 04a4 771F      		rol r23
 1390               		2:
 1391 04a6 8A95      		dec r24
 1392 04a8 02F4      		brpl 1b
 1393 04aa CB01      		movw r24,r22
 1394 04ac 8095      		com r24
 1395 04ae 8423      		and r24,r20
 1396               	.L93:
 1397 04b0 88B9      		out 0x8,r24
 1398 04b2 00C0      		rjmp .L90
 1399               	.L74:
 384:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTD |= BM((pin & 0xF8) >> 3); } while(0);
 1401               	.LM108:
 1402 04b4 29B1      		in r18,0x9
 1403 04b6 30E0      		ldi r19,0
 1404 04b8 082E      		mov r0,r24
 1405 04ba 00C0      		rjmp 2f
 1406               		1:
 1407 04bc 3595      		asr r19
 1408 04be 2795      		ror r18
 1409               		2:
 1410 04c0 0A94      		dec r0
 1411 04c2 02F4      		brpl 1b
 385:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1413               	.LM109:
 1414 04c4 4BB1      		in r20,0xb
 384:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTD |= BM((pin & 0xF8) >> 3); } while(0);
 1416               	.LM110:
 1417 04c6 20FD      		sbrc r18,0
 1418 04c8 00C0      		rjmp .L81
 385:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1420               	.LM111:
 1421 04ca 21E0      		ldi r18,lo8(1)
 1422 04cc 30E0      		ldi r19,0
 1423 04ce B901      		movw r22,r18
 1424 04d0 00C0      		rjmp 2f
 1425               		1:
 1426 04d2 660F      		lsl r22
 1427 04d4 771F      		rol r23
 1428               		2:
 1429 04d6 8A95      		dec r24
 1430 04d8 02F4      		brpl 1b
 1431 04da CB01      		movw r24,r22
 1432 04dc 842B      		or r24,r20
 1433 04de 00C0      		rjmp .L94
 1434               	.L81:
 387:../../../src/platform/firefly3/source/ulib.c ****                         }
 1436               	.LM112:
 1437 04e0 21E0      		ldi r18,lo8(1)
 1438 04e2 30E0      		ldi r19,0
 1439 04e4 B901      		movw r22,r18
 1440 04e6 00C0      		rjmp 2f
 1441               		1:
 1442 04e8 660F      		lsl r22
 1443 04ea 771F      		rol r23
 1444               		2:
 1445 04ec 8A95      		dec r24
 1446 04ee 02F4      		brpl 1b
 1447 04f0 CB01      		movw r24,r22
 1448 04f2 8095      		com r24
 1449 04f4 8423      		and r24,r20
 1450               	.L94:
 1451 04f6 8BB9      		out 0xb,r24
 1452 04f8 00C0      		rjmp .L90
 1453               	.L75:
 391:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTE |= BM((pin & 0xF8) >> 3); } while(0);
 1455               	.LM113:
 1456 04fa 2CB1      		in r18,0xc
 1457 04fc 30E0      		ldi r19,0
 1458 04fe 082E      		mov r0,r24
 1459 0500 00C0      		rjmp 2f
 1460               		1:
 1461 0502 3595      		asr r19
 1462 0504 2795      		ror r18
 1463               		2:
 1464 0506 0A94      		dec r0
 1465 0508 02F4      		brpl 1b
 392:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1467               	.LM114:
 1468 050a 4EB1      		in r20,0xe
 391:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTE |= BM((pin & 0xF8) >> 3); } while(0);
 1470               	.LM115:
 1471 050c 20FD      		sbrc r18,0
 1472 050e 00C0      		rjmp .L82
 392:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1474               	.LM116:
 1475 0510 21E0      		ldi r18,lo8(1)
 1476 0512 30E0      		ldi r19,0
 1477 0514 B901      		movw r22,r18
 1478 0516 00C0      		rjmp 2f
 1479               		1:
 1480 0518 660F      		lsl r22
 1481 051a 771F      		rol r23
 1482               		2:
 1483 051c 8A95      		dec r24
 1484 051e 02F4      		brpl 1b
 1485 0520 CB01      		movw r24,r22
 1486 0522 842B      		or r24,r20
 1487 0524 00C0      		rjmp .L95
 1488               	.L82:
 394:../../../src/platform/firefly3/source/ulib.c ****                         }
 1490               	.LM117:
 1491 0526 21E0      		ldi r18,lo8(1)
 1492 0528 30E0      		ldi r19,0
 1493 052a B901      		movw r22,r18
 1494 052c 00C0      		rjmp 2f
 1495               		1:
 1496 052e 660F      		lsl r22
 1497 0530 771F      		rol r23
 1498               		2:
 1499 0532 8A95      		dec r24
 1500 0534 02F4      		brpl 1b
 1501 0536 CB01      		movw r24,r22
 1502 0538 8095      		com r24
 1503 053a 8423      		and r24,r20
 1504               	.L95:
 1505 053c 8EB9      		out 0xe,r24
 1506 053e 00C0      		rjmp .L90
 1507               	.L76:
 398:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTF |= BM((pin & 0xF8) >> 3); } while(0);
 1509               	.LM118:
 1510 0540 2FB1      		in r18,0xf
 1511 0542 30E0      		ldi r19,0
 1512 0544 082E      		mov r0,r24
 1513 0546 00C0      		rjmp 2f
 1514               		1:
 1515 0548 3595      		asr r19
 1516 054a 2795      		ror r18
 1517               		2:
 1518 054c 0A94      		dec r0
 1519 054e 02F4      		brpl 1b
 399:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1521               	.LM119:
 1522 0550 41B3      		in r20,0x11
 398:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTF |= BM((pin & 0xF8) >> 3); } while(0);
 1524               	.LM120:
 1525 0552 20FD      		sbrc r18,0
 1526 0554 00C0      		rjmp .L83
 399:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1528               	.LM121:
 1529 0556 21E0      		ldi r18,lo8(1)
 1530 0558 30E0      		ldi r19,0
 1531 055a B901      		movw r22,r18
 1532 055c 00C0      		rjmp 2f
 1533               		1:
 1534 055e 660F      		lsl r22
 1535 0560 771F      		rol r23
 1536               		2:
 1537 0562 8A95      		dec r24
 1538 0564 02F4      		brpl 1b
 1539 0566 CB01      		movw r24,r22
 1540 0568 842B      		or r24,r20
 1541 056a 00C0      		rjmp .L89
 1542               	.L83:
 401:../../../src/platform/firefly3/source/ulib.c ****                         }
 1544               	.LM122:
 1545 056c 21E0      		ldi r18,lo8(1)
 1546 056e 30E0      		ldi r19,0
 1547 0570 B901      		movw r22,r18
 1548 0572 00C0      		rjmp 2f
 1549               		1:
 1550 0574 660F      		lsl r22
 1551 0576 771F      		rol r23
 1552               		2:
 1553 0578 8A95      		dec r24
 1554 057a 02F4      		brpl 1b
 1555 057c CB01      		movw r24,r22
 1556 057e 8095      		com r24
 1557 0580 8423      		and r24,r20
 1558               	.L89:
 1559 0582 81BB      		out 0x11,r24
 1560 0584 00C0      		rjmp .L90
 1561               	.L77:
 405:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTG |= BM((pin & 0xF8) >> 3); } while(0);
 1563               	.LM123:
 1564 0586 22B3      		in r18,0x12
 1565 0588 30E0      		ldi r19,0
 1566 058a 082E      		mov r0,r24
 1567 058c 00C0      		rjmp 2f
 1568               		1:
 1569 058e 3595      		asr r19
 1570 0590 2795      		ror r18
 1571               		2:
 1572 0592 0A94      		dec r0
 1573 0594 02F4      		brpl 1b
 406:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1575               	.LM124:
 1576 0596 44B3      		in r20,0x14
 405:../../../src/platform/firefly3/source/ulib.c ****                                 do { PORTG |= BM((pin & 0xF8) >> 3); } while(0);
 1578               	.LM125:
 1579 0598 20FD      		sbrc r18,0
 1580 059a 00C0      		rjmp .L84
 406:../../../src/platform/firefly3/source/ulib.c ****                         } else {
 1582               	.LM126:
 1583 059c 21E0      		ldi r18,lo8(1)
 1584 059e 30E0      		ldi r19,0
 1585 05a0 B901      		movw r22,r18
 1586 05a2 00C0      		rjmp 2f
 1587               		1:
 1588 05a4 660F      		lsl r22
 1589 05a6 771F      		rol r23
 1590               		2:
 1591 05a8 8A95      		dec r24
 1592 05aa 02F4      		brpl 1b
 1593 05ac CB01      		movw r24,r22
 1594 05ae 842B      		or r24,r20
 1595 05b0 00C0      		rjmp .L87
 1596               	.L84:
 408:../../../src/platform/firefly3/source/ulib.c ****                         }
 1598               	.LM127:
 1599 05b2 21E0      		ldi r18,lo8(1)
 1600 05b4 30E0      		ldi r19,0
 1601 05b6 B901      		movw r22,r18
 1602 05b8 00C0      		rjmp 2f
 1603               		1:
 1604 05ba 660F      		lsl r22
 1605 05bc 771F      		rol r23
 1606               		2:
 1607 05be 8A95      		dec r24
 1608 05c0 02F4      		brpl 1b
 1609 05c2 CB01      		movw r24,r22
 1610 05c4 8095      		com r24
 1611 05c6 8423      		and r24,r20
 1612               	.L87:
 1613 05c8 84BB      		out 0x14,r24
 1614 05ca 00C0      		rjmp .L90
 1615               	.L86:
 411:../../../src/platform/firefly3/source/ulib.c ****         }
 1617               	.LM128:
 1618 05cc 8FEF      		ldi r24,lo8(-1)
 414:../../../src/platform/firefly3/source/ulib.c **** 
 1620               	.LM129:
 1621 05ce 0895      		ret
 1623               	.Lscope12:
 1625               		.stabd	78,0,0
 1629               	.global	nrk_gpio_direction
 1631               	nrk_gpio_direction:
 1632               		.stabd	46,0,0
 417:../../../src/platform/firefly3/source/ulib.c ****         if (pin == NRK_INVALID_PIN_VAL) return -1;
 1634               	.LM130:
 1635               	.LFBB13:
 1636               	/* prologue: function */
 1637               	/* frame size = 0 */
 1638               	/* stack size = 0 */
 1639               	.L__stack_usage = 0
 418:../../../src/platform/firefly3/source/ulib.c ****         if (pin_direction == NRK_PIN_INPUT) {
 1641               	.LM131:
 1642 05d0 8F3F      		cpi r24,lo8(-1)
 1643 05d2 01F4      		brne .+2
 1644 05d4 00C0      		rjmp .L117
 1645 05d6 E82F      		mov r30,r24
 1646 05d8 E770      		andi r30,lo8(7)
 420:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTA:
 1648               	.LM132:
 1649 05da 4E2F      		mov r20,r30
 1650 05dc 50E0      		ldi r21,0
 419:../../../src/platform/firefly3/source/ulib.c ****                 switch (pin & 0x07) {
 1652               	.LM133:
 1653 05de 6111      		cpse r22,__zero_reg__
 1654 05e0 00C0      		rjmp .L98
 420:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTA:
 1656               	.LM134:
 1657 05e2 4730      		cpi r20,7
 1658 05e4 5105      		cpc r21,__zero_reg__
 1659 05e6 00F0      		brlo .+2
 1660 05e8 00C0      		rjmp .L117
 1661 05ea FA01      		movw r30,r20
 1662 05ec E050      		subi r30,lo8(-(gs(.L100)))
 1663 05ee F040      		sbci r31,hi8(-(gs(.L100)))
 1664 05f0 8695      		lsr r24
 1665 05f2 8695      		lsr r24
 1666 05f4 8695      		lsr r24
 1667 05f6 0C94 0000 		jmp __tablejump2__
 1668               		.section	.progmem.gcc_sw_table,"a",@progbits
 1669               		.p2align	1
 1670               	.L100:
 1671 0038 0000      		.word gs(.L99)
 1672 003a 0000      		.word gs(.L101)
 1673 003c 0000      		.word gs(.L102)
 1674 003e 0000      		.word gs(.L103)
 1675 0040 0000      		.word gs(.L104)
 1676 0042 0000      		.word gs(.L105)
 1677 0044 0000      		.word gs(.L106)
 1678               		.text
 1679               	.L99:
 422:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTA |= BM((pin & 0xF8) >> 3); 
 1681               	.LM135:
 1682 05fa 41B1      		in r20,0x1
 1683 05fc 21E0      		ldi r18,lo8(1)
 1684 05fe 30E0      		ldi r19,0
 1685 0600 B901      		movw r22,r18
 1686 0602 00C0      		rjmp 2f
 1687               		1:
 1688 0604 660F      		lsl r22
 1689 0606 771F      		rol r23
 1690               		2:
 1691 0608 8A95      		dec r24
 1692 060a 02F4      		brpl 1b
 1693 060c CB01      		movw r24,r22
 1694 060e 8095      		com r24
 1695 0610 8423      		and r24,r20
 1696 0612 00C0      		rjmp .L121
 1697               	.L101:
 426:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTB |= BM((pin & 0xF8) >> 3); 
 1699               	.LM136:
 1700 0614 44B1      		in r20,0x4
 1701 0616 21E0      		ldi r18,lo8(1)
 1702 0618 30E0      		ldi r19,0
 1703 061a B901      		movw r22,r18
 1704 061c 00C0      		rjmp 2f
 1705               		1:
 1706 061e 660F      		lsl r22
 1707 0620 771F      		rol r23
 1708               		2:
 1709 0622 8A95      		dec r24
 1710 0624 02F4      		brpl 1b
 1711 0626 CB01      		movw r24,r22
 1712 0628 8095      		com r24
 1713 062a 8423      		and r24,r20
 1714 062c 00C0      		rjmp .L122
 1715               	.L102:
 430:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTC |= BM((pin & 0xF8) >> 3); 
 1717               	.LM137:
 1718 062e 47B1      		in r20,0x7
 1719 0630 21E0      		ldi r18,lo8(1)
 1720 0632 30E0      		ldi r19,0
 1721 0634 B901      		movw r22,r18
 1722 0636 00C0      		rjmp 2f
 1723               		1:
 1724 0638 660F      		lsl r22
 1725 063a 771F      		rol r23
 1726               		2:
 1727 063c 8A95      		dec r24
 1728 063e 02F4      		brpl 1b
 1729 0640 CB01      		movw r24,r22
 1730 0642 8095      		com r24
 1731 0644 8423      		and r24,r20
 1732 0646 00C0      		rjmp .L123
 1733               	.L103:
 434:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTD |= BM((pin & 0xF8) >> 3); 
 1735               	.LM138:
 1736 0648 4AB1      		in r20,0xa
 1737 064a 21E0      		ldi r18,lo8(1)
 1738 064c 30E0      		ldi r19,0
 1739 064e B901      		movw r22,r18
 1740 0650 00C0      		rjmp 2f
 1741               		1:
 1742 0652 660F      		lsl r22
 1743 0654 771F      		rol r23
 1744               		2:
 1745 0656 8A95      		dec r24
 1746 0658 02F4      		brpl 1b
 1747 065a CB01      		movw r24,r22
 1748 065c 8095      		com r24
 1749 065e 8423      		and r24,r20
 1750 0660 00C0      		rjmp .L124
 1751               	.L104:
 438:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTE |= BM((pin & 0xF8) >> 3); 
 1753               	.LM139:
 1754 0662 4DB1      		in r20,0xd
 1755 0664 21E0      		ldi r18,lo8(1)
 1756 0666 30E0      		ldi r19,0
 1757 0668 B901      		movw r22,r18
 1758 066a 00C0      		rjmp 2f
 1759               		1:
 1760 066c 660F      		lsl r22
 1761 066e 771F      		rol r23
 1762               		2:
 1763 0670 8A95      		dec r24
 1764 0672 02F4      		brpl 1b
 1765 0674 CB01      		movw r24,r22
 1766 0676 8095      		com r24
 1767 0678 8423      		and r24,r20
 1768 067a 00C0      		rjmp .L125
 1769               	.L105:
 442:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTF |= BM((pin & 0xF8) >> 3); 
 1771               	.LM140:
 1772 067c 40B3      		in r20,0x10
 1773 067e 21E0      		ldi r18,lo8(1)
 1774 0680 30E0      		ldi r19,0
 1775 0682 B901      		movw r22,r18
 1776 0684 00C0      		rjmp 2f
 1777               		1:
 1778 0686 660F      		lsl r22
 1779 0688 771F      		rol r23
 1780               		2:
 1781 068a 8A95      		dec r24
 1782 068c 02F4      		brpl 1b
 1783 068e CB01      		movw r24,r22
 1784 0690 8095      		com r24
 1785 0692 8423      		and r24,r20
 1786 0694 00C0      		rjmp .L120
 1787               	.L106:
 446:../../../src/platform/firefly3/source/ulib.c ****                                 //PORTG |= BM((pin & 0xF8) >> 3); 
 1789               	.LM141:
 1790 0696 43B3      		in r20,0x13
 1791 0698 21E0      		ldi r18,lo8(1)
 1792 069a 30E0      		ldi r19,0
 1793 069c B901      		movw r22,r18
 1794 069e 00C0      		rjmp 2f
 1795               		1:
 1796 06a0 660F      		lsl r22
 1797 06a2 771F      		rol r23
 1798               		2:
 1799 06a4 8A95      		dec r24
 1800 06a6 02F4      		brpl 1b
 1801 06a8 CB01      		movw r24,r22
 1802 06aa 8095      		com r24
 1803 06ac 8423      		and r24,r20
 1804 06ae 00C0      		rjmp .L119
 1805               	.L98:
 452:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTA:
 1807               	.LM142:
 1808 06b0 4730      		cpi r20,7
 1809 06b2 5105      		cpc r21,__zero_reg__
 1810 06b4 00F0      		brlo .+2
 1811 06b6 00C0      		rjmp .L117
 1812 06b8 FA01      		movw r30,r20
 1813 06ba E050      		subi r30,lo8(-(gs(.L108)))
 1814 06bc F040      		sbci r31,hi8(-(gs(.L108)))
 1815 06be 8695      		lsr r24
 1816 06c0 8695      		lsr r24
 1817 06c2 8695      		lsr r24
 1818 06c4 0C94 0000 		jmp __tablejump2__
 1819               		.section	.progmem.gcc_sw_table,"a",@progbits
 1820               		.p2align	1
 1821               	.L108:
 1822 0046 0000      		.word gs(.L107)
 1823 0048 0000      		.word gs(.L109)
 1824 004a 0000      		.word gs(.L110)
 1825 004c 0000      		.word gs(.L111)
 1826 004e 0000      		.word gs(.L112)
 1827 0050 0000      		.word gs(.L113)
 1828 0052 0000      		.word gs(.L114)
 1829               		.text
 1830               	.L107:
 454:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTB:
 1832               	.LM143:
 1833 06c8 41B1      		in r20,0x1
 1834 06ca 21E0      		ldi r18,lo8(1)
 1835 06cc 30E0      		ldi r19,0
 1836 06ce B901      		movw r22,r18
 1837 06d0 00C0      		rjmp 2f
 1838               		1:
 1839 06d2 660F      		lsl r22
 1840 06d4 771F      		rol r23
 1841               		2:
 1842 06d6 8A95      		dec r24
 1843 06d8 02F4      		brpl 1b
 1844 06da CB01      		movw r24,r22
 1845 06dc 842B      		or r24,r20
 1846               	.L121:
 1847 06de 81B9      		out 0x1,r24
 1848 06e0 00C0      		rjmp .L118
 1849               	.L109:
 456:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTC:
 1851               	.LM144:
 1852 06e2 44B1      		in r20,0x4
 1853 06e4 21E0      		ldi r18,lo8(1)
 1854 06e6 30E0      		ldi r19,0
 1855 06e8 B901      		movw r22,r18
 1856 06ea 00C0      		rjmp 2f
 1857               		1:
 1858 06ec 660F      		lsl r22
 1859 06ee 771F      		rol r23
 1860               		2:
 1861 06f0 8A95      		dec r24
 1862 06f2 02F4      		brpl 1b
 1863 06f4 CB01      		movw r24,r22
 1864 06f6 842B      		or r24,r20
 1865               	.L122:
 1866 06f8 84B9      		out 0x4,r24
 1867 06fa 00C0      		rjmp .L118
 1868               	.L110:
 458:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTD:
 1870               	.LM145:
 1871 06fc 47B1      		in r20,0x7
 1872 06fe 21E0      		ldi r18,lo8(1)
 1873 0700 30E0      		ldi r19,0
 1874 0702 B901      		movw r22,r18
 1875 0704 00C0      		rjmp 2f
 1876               		1:
 1877 0706 660F      		lsl r22
 1878 0708 771F      		rol r23
 1879               		2:
 1880 070a 8A95      		dec r24
 1881 070c 02F4      		brpl 1b
 1882 070e CB01      		movw r24,r22
 1883 0710 842B      		or r24,r20
 1884               	.L123:
 1885 0712 87B9      		out 0x7,r24
 1886 0714 00C0      		rjmp .L118
 1887               	.L111:
 460:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTE:
 1889               	.LM146:
 1890 0716 4AB1      		in r20,0xa
 1891 0718 21E0      		ldi r18,lo8(1)
 1892 071a 30E0      		ldi r19,0
 1893 071c B901      		movw r22,r18
 1894 071e 00C0      		rjmp 2f
 1895               		1:
 1896 0720 660F      		lsl r22
 1897 0722 771F      		rol r23
 1898               		2:
 1899 0724 8A95      		dec r24
 1900 0726 02F4      		brpl 1b
 1901 0728 CB01      		movw r24,r22
 1902 072a 842B      		or r24,r20
 1903               	.L124:
 1904 072c 8AB9      		out 0xa,r24
 1905 072e 00C0      		rjmp .L118
 1906               	.L112:
 462:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTF:
 1908               	.LM147:
 1909 0730 4DB1      		in r20,0xd
 1910 0732 21E0      		ldi r18,lo8(1)
 1911 0734 30E0      		ldi r19,0
 1912 0736 B901      		movw r22,r18
 1913 0738 00C0      		rjmp 2f
 1914               		1:
 1915 073a 660F      		lsl r22
 1916 073c 771F      		rol r23
 1917               		2:
 1918 073e 8A95      		dec r24
 1919 0740 02F4      		brpl 1b
 1920 0742 CB01      		movw r24,r22
 1921 0744 842B      		or r24,r20
 1922               	.L125:
 1923 0746 8DB9      		out 0xd,r24
 1924 0748 00C0      		rjmp .L118
 1925               	.L113:
 464:../../../src/platform/firefly3/source/ulib.c ****                         case NRK_PORTG:
 1927               	.LM148:
 1928 074a 40B3      		in r20,0x10
 1929 074c 21E0      		ldi r18,lo8(1)
 1930 074e 30E0      		ldi r19,0
 1931 0750 B901      		movw r22,r18
 1932 0752 00C0      		rjmp 2f
 1933               		1:
 1934 0754 660F      		lsl r22
 1935 0756 771F      		rol r23
 1936               		2:
 1937 0758 8A95      		dec r24
 1938 075a 02F4      		brpl 1b
 1939 075c CB01      		movw r24,r22
 1940 075e 842B      		or r24,r20
 1941               	.L120:
 1942 0760 80BB      		out 0x10,r24
 1943 0762 00C0      		rjmp .L118
 1944               	.L114:
 466:../../../src/platform/firefly3/source/ulib.c ****                         default: return -1;
 1946               	.LM149:
 1947 0764 43B3      		in r20,0x13
 1948 0766 21E0      		ldi r18,lo8(1)
 1949 0768 30E0      		ldi r19,0
 1950 076a B901      		movw r22,r18
 1951 076c 00C0      		rjmp 2f
 1952               		1:
 1953 076e 660F      		lsl r22
 1954 0770 771F      		rol r23
 1955               		2:
 1956 0772 8A95      		dec r24
 1957 0774 02F4      		brpl 1b
 1958 0776 CB01      		movw r24,r22
 1959 0778 842B      		or r24,r20
 1960               	.L119:
 1961 077a 83BB      		out 0x13,r24
 1962               	.L118:
 470:../../../src/platform/firefly3/source/ulib.c **** }
 1964               	.LM150:
 1965 077c 81E0      		ldi r24,lo8(1)
 466:../../../src/platform/firefly3/source/ulib.c ****                         default: return -1;
 1967               	.LM151:
 1968 077e 0895      		ret
 1969               	.L117:
 467:../../../src/platform/firefly3/source/ulib.c ****                 }
 1971               	.LM152:
 1972 0780 8FEF      		ldi r24,lo8(-1)
 471:../../../src/platform/firefly3/source/ulib.c **** 
 1974               	.LM153:
 1975 0782 0895      		ret
 1977               	.Lscope13:
 1979               		.stabd	78,0,0
 1982               	.global	nrk_get_button
 1984               	nrk_get_button:
 1985               		.stabd	46,0,0
 474:../../../src/platform/firefly3/source/ulib.c **** if(b==0) {
 1987               	.LM154:
 1988               	.LFBB14:
 1989               	/* prologue: function */
 1990               	/* frame size = 0 */
 1991               	/* stack size = 0 */
 1992               	.L__stack_usage = 0
 475:../../../src/platform/firefly3/source/ulib.c **** 	 return( !(PINA & BM(BUTTON))); 
 1994               	.LM155:
 1995 0784 8111      		cpse r24,__zero_reg__
 1996 0786 00C0      		rjmp .L128
 476:../../../src/platform/firefly3/source/ulib.c **** 	} 
 1998               	.LM156:
 1999 0788 80B1      		in r24,0
 2000 078a 8695      		lsr r24
 2001 078c 8170      		andi r24,1
 2002 078e 91E0      		ldi r25,lo8(1)
 2003 0790 8927      		eor r24,r25
 2004 0792 0895      		ret
 2005               	.L128:
 478:../../../src/platform/firefly3/source/ulib.c **** }
 2007               	.LM157:
 2008 0794 8FEF      		ldi r24,lo8(-1)
 479:../../../src/platform/firefly3/source/ulib.c **** 
 2010               	.LM158:
 2011 0796 0895      		ret
 2013               	.Lscope14:
 2015               		.stabd	78,0,0
 2018               	.global	nrk_led_toggle
 2020               	nrk_led_toggle:
 2021               		.stabd	46,0,0
 482:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_toggle(NRK_LED_0); return 1; }
 2023               	.LM159:
 2024               	.LFBB15:
 2025               	/* prologue: function */
 2026               	/* frame size = 0 */
 2027               	/* stack size = 0 */
 2028               	.L__stack_usage = 0
 483:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_toggle(NRK_LED_1); return 1; }
 2030               	.LM160:
 2031 0798 0097      		sbiw r24,0
 2032 079a 01F4      		brne .L130
 483:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_toggle(NRK_LED_1); return 1; }
 2034               	.LM161:
 2035 079c 83E2      		ldi r24,lo8(35)
 2036 079e 00C0      		rjmp .L135
 2037               	.L130:
 484:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_toggle(NRK_LED_2); return 1; }
 2039               	.LM162:
 2040 07a0 8130      		cpi r24,1
 2041 07a2 9105      		cpc r25,__zero_reg__
 2042 07a4 01F4      		brne .L132
 484:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_toggle(NRK_LED_2); return 1; }
 2044               	.LM163:
 2045 07a6 8BE2      		ldi r24,lo8(43)
 2046 07a8 00C0      		rjmp .L135
 2047               	.L132:
 485:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_toggle(NRK_LED_3); return 1; }
 2049               	.LM164:
 2050 07aa 8230      		cpi r24,2
 2051 07ac 9105      		cpc r25,__zero_reg__
 2052 07ae 01F4      		brne .L133
 485:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_toggle(NRK_LED_3); return 1; }
 2054               	.LM165:
 2055 07b0 83E3      		ldi r24,lo8(51)
 2056 07b2 00C0      		rjmp .L135
 2057               	.L133:
 486:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2059               	.LM166:
 2060 07b4 0397      		sbiw r24,3
 2061 07b6 01F4      		brne .L134
 486:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2063               	.LM167:
 2064 07b8 8BE3      		ldi r24,lo8(59)
 2065               	.L135:
 2066 07ba 0E94 0000 		call nrk_gpio_toggle
 2067 07be 81E0      		ldi r24,lo8(1)
 2068 07c0 0895      		ret
 2069               	.L134:
 487:../../../src/platform/firefly3/source/ulib.c **** }
 2071               	.LM168:
 2072 07c2 8FEF      		ldi r24,lo8(-1)
 488:../../../src/platform/firefly3/source/ulib.c **** 
 2074               	.LM169:
 2075 07c4 0895      		ret
 2077               	.Lscope15:
 2079               		.stabd	78,0,0
 2082               	.global	nrk_led_clr
 2084               	nrk_led_clr:
 2085               		.stabd	46,0,0
 491:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_set(NRK_LED_0); return 1; }
 2087               	.LM170:
 2088               	.LFBB16:
 2089               	/* prologue: function */
 2090               	/* frame size = 0 */
 2091               	/* stack size = 0 */
 2092               	.L__stack_usage = 0
 492:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_set(NRK_LED_1); return 1; }
 2094               	.LM171:
 2095 07c6 0097      		sbiw r24,0
 2096 07c8 01F4      		brne .L137
 492:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_set(NRK_LED_1); return 1; }
 2098               	.LM172:
 2099 07ca 83E2      		ldi r24,lo8(35)
 2100 07cc 00C0      		rjmp .L142
 2101               	.L137:
 493:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_set(NRK_LED_2); return 1; }
 2103               	.LM173:
 2104 07ce 8130      		cpi r24,1
 2105 07d0 9105      		cpc r25,__zero_reg__
 2106 07d2 01F4      		brne .L139
 493:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_set(NRK_LED_2); return 1; }
 2108               	.LM174:
 2109 07d4 8BE2      		ldi r24,lo8(43)
 2110 07d6 00C0      		rjmp .L142
 2111               	.L139:
 494:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_set(NRK_LED_3); return 1; }
 2113               	.LM175:
 2114 07d8 8230      		cpi r24,2
 2115 07da 9105      		cpc r25,__zero_reg__
 2116 07dc 01F4      		brne .L140
 494:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_set(NRK_LED_3); return 1; }
 2118               	.LM176:
 2119 07de 83E3      		ldi r24,lo8(51)
 2120 07e0 00C0      		rjmp .L142
 2121               	.L140:
 495:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2123               	.LM177:
 2124 07e2 0397      		sbiw r24,3
 2125 07e4 01F4      		brne .L141
 495:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2127               	.LM178:
 2128 07e6 8BE3      		ldi r24,lo8(59)
 2129               	.L142:
 2130 07e8 0E94 0000 		call nrk_gpio_set
 2131 07ec 81E0      		ldi r24,lo8(1)
 2132 07ee 0895      		ret
 2133               	.L141:
 496:../../../src/platform/firefly3/source/ulib.c **** }
 2135               	.LM179:
 2136 07f0 8FEF      		ldi r24,lo8(-1)
 497:../../../src/platform/firefly3/source/ulib.c **** 
 2138               	.LM180:
 2139 07f2 0895      		ret
 2141               	.Lscope16:
 2143               		.stabd	78,0,0
 2146               	.global	nrk_led_set
 2148               	nrk_led_set:
 2149               		.stabd	46,0,0
 500:../../../src/platform/firefly3/source/ulib.c **** if(led==0) { nrk_gpio_clr(NRK_LED_0); return 1; }
 2151               	.LM181:
 2152               	.LFBB17:
 2153               	/* prologue: function */
 2154               	/* frame size = 0 */
 2155               	/* stack size = 0 */
 2156               	.L__stack_usage = 0
 501:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_clr(NRK_LED_1); return 1; }
 2158               	.LM182:
 2159 07f4 0097      		sbiw r24,0
 2160 07f6 01F4      		brne .L144
 501:../../../src/platform/firefly3/source/ulib.c **** if(led==1) { nrk_gpio_clr(NRK_LED_1); return 1; }
 2162               	.LM183:
 2163 07f8 83E2      		ldi r24,lo8(35)
 2164 07fa 00C0      		rjmp .L149
 2165               	.L144:
 502:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_clr(NRK_LED_2); return 1; }
 2167               	.LM184:
 2168 07fc 8130      		cpi r24,1
 2169 07fe 9105      		cpc r25,__zero_reg__
 2170 0800 01F4      		brne .L146
 502:../../../src/platform/firefly3/source/ulib.c **** if(led==2) { nrk_gpio_clr(NRK_LED_2); return 1; }
 2172               	.LM185:
 2173 0802 8BE2      		ldi r24,lo8(43)
 2174 0804 00C0      		rjmp .L149
 2175               	.L146:
 503:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_clr(NRK_LED_3); return 1; }
 2177               	.LM186:
 2178 0806 8230      		cpi r24,2
 2179 0808 9105      		cpc r25,__zero_reg__
 2180 080a 01F4      		brne .L147
 503:../../../src/platform/firefly3/source/ulib.c **** if(led==3) { nrk_gpio_clr(NRK_LED_3); return 1; }
 2182               	.LM187:
 2183 080c 83E3      		ldi r24,lo8(51)
 2184 080e 00C0      		rjmp .L149
 2185               	.L147:
 504:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2187               	.LM188:
 2188 0810 0397      		sbiw r24,3
 2189 0812 01F4      		brne .L148
 504:../../../src/platform/firefly3/source/ulib.c **** return -1;
 2191               	.LM189:
 2192 0814 8BE3      		ldi r24,lo8(59)
 2193               	.L149:
 2194 0816 0E94 0000 		call nrk_gpio_clr
 2195 081a 81E0      		ldi r24,lo8(1)
 2196 081c 0895      		ret
 2197               	.L148:
 505:../../../src/platform/firefly3/source/ulib.c **** }
 2199               	.LM190:
 2200 081e 8FEF      		ldi r24,lo8(-1)
 506:../../../src/platform/firefly3/source/ulib.c **** 
 2202               	.LM191:
 2203 0820 0895      		ret
 2205               	.Lscope17:
 2207               		.stabd	78,0,0
 2210               	.global	nrk_gpio_pullups
 2212               	nrk_gpio_pullups:
 2213               		.stabd	46,0,0
 509:../../../src/platform/firefly3/source/ulib.c **** if(enable) MCUCR &= ~BM(PUD);
 2215               	.LM192:
 2216               	.LFBB18:
 2217               	/* prologue: function */
 2218               	/* frame size = 0 */
 2219               	/* stack size = 0 */
 2220               	.L__stack_usage = 0
 510:../../../src/platform/firefly3/source/ulib.c **** else MCUCR |= BM(PUD);
 2222               	.LM193:
 2223 0822 8823      		tst r24
 2224 0824 01F0      		breq .L151
 510:../../../src/platform/firefly3/source/ulib.c **** else MCUCR |= BM(PUD);
 2226               	.LM194:
 2227 0826 85B7      		in r24,0x35
 2228 0828 8F7E      		andi r24,lo8(-17)
 2229 082a 00C0      		rjmp .L153
 2230               	.L151:
 511:../../../src/platform/firefly3/source/ulib.c **** return NRK_OK;
 2232               	.LM195:
 2233 082c 85B7      		in r24,0x35
 2234 082e 8061      		ori r24,lo8(16)
 2235               	.L153:
 2236 0830 85BF      		out 0x35,r24
 513:../../../src/platform/firefly3/source/ulib.c **** 
 2238               	.LM196:
 2239 0832 81E0      		ldi r24,lo8(1)
 2240 0834 0895      		ret
 2242               	.Lscope18:
 2244               		.stabd	78,0,0
 2247               	.global	putc1
 2249               	putc1:
 2250               		.stabd	46,0,0
 541:../../../src/platform/firefly3/source/ulib.c **** }
 542:../../../src/platform/firefly3/source/ulib.c **** 
 543:../../../src/platform/firefly3/source/ulib.c **** void putc1(char x)
 544:../../../src/platform/firefly3/source/ulib.c **** {
 2252               	.LM197:
 2253               	.LFBB19:
 2254               	/* prologue: function */
 2255               	/* frame size = 0 */
 2256               	/* stack size = 0 */
 2257               	.L__stack_usage = 0
 2258               	.L155:
 545:../../../src/platform/firefly3/source/ulib.c ****      UART1_WAIT_AND_SEND(x);
 2260               	.LM198:
 2261 0836 9091 C800 		lds r25,200
 2262 083a 95FF      		sbrs r25,5
 2263 083c 00C0      		rjmp .L155
 2265               	.LM199:
 2266 083e 8093 CE00 		sts 206,r24
 2267 0842 0895      		ret
 2269               	.Lscope19:
 2271               		.stabd	78,0,0
 2273               	.global	setup_uart0
 2275               	setup_uart0:
 2276               		.stabd	46,0,0
 546:../../../src/platform/firefly3/source/ulib.c **** }
 547:../../../src/platform/firefly3/source/ulib.c **** 
 548:../../../src/platform/firefly3/source/ulib.c **** void setup_uart0(uint16_t baudrate)
 549:../../../src/platform/firefly3/source/ulib.c **** {
 2278               	.LM200:
 2279               	.LFBB20:
 2280               	/* prologue: function */
 2281               	/* frame size = 0 */
 2282               	/* stack size = 0 */
 2283               	.L__stack_usage = 0
 550:../../../src/platform/firefly3/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 551:../../../src/platform/firefly3/source/ulib.c **** INIT_UART0( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 2285               	.LM201:
 2286 0844 9093 C500 		sts 197,r25
 2287 0848 8093 C400 		sts 196,r24
 2288 084c 86E0      		ldi r24,lo8(6)
 2289 084e 8093 C200 		sts 194,r24
 2290 0852 E1EC      		ldi r30,lo8(-63)
 2291 0854 F0E0      		ldi r31,0
 2292 0856 8081      		ld r24,Z
 2293 0858 8B7F      		andi r24,lo8(-5)
 2294 085a 8083      		st Z,r24
 2295 085c A0EC      		ldi r26,lo8(-64)
 2296 085e B0E0      		ldi r27,0
 2297 0860 8C91      		ld r24,X
 2298 0862 8260      		ori r24,lo8(2)
 2299 0864 8C93      		st X,r24
 552:../../../src/platform/firefly3/source/ulib.c **** ENABLE_UART0();
 2301               	.LM202:
 2302 0866 8081      		ld r24,Z
 2303 0868 8861      		ori r24,lo8(24)
 2304 086a 8083      		st Z,r24
 2305 086c 0895      		ret
 2307               	.Lscope20:
 2309               		.stabd	78,0,0
 2311               	.global	setup_uart1
 2313               	setup_uart1:
 2314               		.stabd	46,0,0
 553:../../../src/platform/firefly3/source/ulib.c **** }
 554:../../../src/platform/firefly3/source/ulib.c **** 
 555:../../../src/platform/firefly3/source/ulib.c **** void setup_uart1(uint16_t baudrate)
 556:../../../src/platform/firefly3/source/ulib.c **** {
 2316               	.LM203:
 2317               	.LFBB21:
 2318               	/* prologue: function */
 2319               	/* frame size = 0 */
 2320               	/* stack size = 0 */
 2321               	.L__stack_usage = 0
 557:../../../src/platform/firefly3/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 558:../../../src/platform/firefly3/source/ulib.c **** INIT_UART1( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 2323               	.LM204:
 2324 086e 9093 CD00 		sts 205,r25
 2325 0872 8093 CC00 		sts 204,r24
 2326 0876 86E0      		ldi r24,lo8(6)
 2327 0878 8093 CA00 		sts 202,r24
 2328 087c E9EC      		ldi r30,lo8(-55)
 2329 087e F0E0      		ldi r31,0
 2330 0880 8081      		ld r24,Z
 2331 0882 8B7F      		andi r24,lo8(-5)
 2332 0884 8083      		st Z,r24
 2333 0886 A8EC      		ldi r26,lo8(-56)
 2334 0888 B0E0      		ldi r27,0
 2335 088a 8C91      		ld r24,X
 2336 088c 8260      		ori r24,lo8(2)
 2337 088e 8C93      		st X,r24
 559:../../../src/platform/firefly3/source/ulib.c **** ENABLE_UART1();
 2339               	.LM205:
 2340 0890 8081      		ld r24,Z
 2341 0892 8861      		ori r24,lo8(24)
 2342 0894 8083      		st Z,r24
 2343 0896 0895      		ret
 2345               	.Lscope21:
 2347               		.stabd	78,0,0
 2350               	.global	nrk_setup_uart
 2352               	nrk_setup_uart:
 2353               		.stabd	46,0,0
 560:../../../src/platform/firefly3/source/ulib.c **** }
 561:../../../src/platform/firefly3/source/ulib.c **** 
 562:../../../src/platform/firefly3/source/ulib.c **** 
 563:../../../src/platform/firefly3/source/ulib.c **** 
 564:../../../src/platform/firefly3/source/ulib.c **** 
 565:../../../src/platform/firefly3/source/ulib.c **** 
 566:../../../src/platform/firefly3/source/ulib.c **** /**
 567:../../../src/platform/firefly3/source/ulib.c ****  * nrk_setup_uart()
 568:../../../src/platform/firefly3/source/ulib.c ****  *
 569:../../../src/platform/firefly3/source/ulib.c ****  * Sets a default uart for a given platform and
 570:../../../src/platform/firefly3/source/ulib.c ****  * direct stdin and stdout to that port.
 571:../../../src/platform/firefly3/source/ulib.c ****  *
 572:../../../src/platform/firefly3/source/ulib.c ****  * More advanced UART usage will require manually
 573:../../../src/platform/firefly3/source/ulib.c ****  * setting parameters.
 574:../../../src/platform/firefly3/source/ulib.c ****  */
 575:../../../src/platform/firefly3/source/ulib.c **** void nrk_setup_uart(uint16_t baudrate)
 576:../../../src/platform/firefly3/source/ulib.c **** {
 2355               	.LM206:
 2356               	.LFBB22:
 2357               	/* prologue: function */
 2358               	/* frame size = 0 */
 2359               	/* stack size = 0 */
 2360               	.L__stack_usage = 0
 577:../../../src/platform/firefly3/source/ulib.c **** 
 578:../../../src/platform/firefly3/source/ulib.c **** //  setup_uart1(baudrate);
 579:../../../src/platform/firefly3/source/ulib.c **** //  stdout = fdevopen( (void *)putc1, (void *)getc1);
 580:../../../src/platform/firefly3/source/ulib.c **** //  stdin = fdevopen( (void *)putc1, (void *)getc1);
 581:../../../src/platform/firefly3/source/ulib.c **** 
 582:../../../src/platform/firefly3/source/ulib.c ****   setup_uart0(baudrate);
 2362               	.LM207:
 2363 0898 0E94 0000 		call setup_uart0
 583:../../../src/platform/firefly3/source/ulib.c **** 
 584:../../../src/platform/firefly3/source/ulib.c ****   stdout = fdevopen( (void *)putc0, (void *)getc0);
 2365               	.LM208:
 2366 089c 60E0      		ldi r22,lo8(gs(getc0))
 2367 089e 70E0      		ldi r23,hi8(gs(getc0))
 2368 08a0 80E0      		ldi r24,lo8(gs(putc0))
 2369 08a2 90E0      		ldi r25,hi8(gs(putc0))
 2370 08a4 0E94 0000 		call fdevopen
 2371 08a8 9093 0000 		sts __iob+2+1,r25
 2372 08ac 8093 0000 		sts __iob+2,r24
 585:../../../src/platform/firefly3/source/ulib.c ****   stdin = fdevopen( (void *)putc0, (void *)getc0);
 2374               	.LM209:
 2375 08b0 60E0      		ldi r22,lo8(gs(getc0))
 2376 08b2 70E0      		ldi r23,hi8(gs(getc0))
 2377 08b4 80E0      		ldi r24,lo8(gs(putc0))
 2378 08b6 90E0      		ldi r25,hi8(gs(putc0))
 2379 08b8 0E94 0000 		call fdevopen
 2380 08bc 9093 0000 		sts __iob+1,r25
 2381 08c0 8093 0000 		sts __iob,r24
 586:../../../src/platform/firefly3/source/ulib.c **** 
 587:../../../src/platform/firefly3/source/ulib.c **** #ifdef NRK_UART_BUF
 588:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_signal=nrk_signal_create();
 2383               	.LM210:
 2384 08c4 0E94 0000 		call nrk_signal_create
 2385 08c8 8093 0000 		sts uart_rx_signal,r24
 589:../../../src/platform/firefly3/source/ulib.c ****    if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 2387               	.LM211:
 2388 08cc 8F3F      		cpi r24,lo8(-1)
 2389 08ce 01F4      		brne .L161
 2391               	.LM212:
 2392 08d0 8EE0      		ldi r24,lo8(14)
 2393 08d2 0E94 0000 		call nrk_error_add
 2394               	.L161:
 590:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf_start=0;
 2396               	.LM213:
 2397 08d6 1092 0000 		sts uart_rx_buf_start+1,__zero_reg__
 2398 08da 1092 0000 		sts uart_rx_buf_start,__zero_reg__
 591:../../../src/platform/firefly3/source/ulib.c ****    uart_rx_buf_end=0;
 2400               	.LM214:
 2401 08de 1092 0000 		sts uart_rx_buf_end+1,__zero_reg__
 2402 08e2 1092 0000 		sts uart_rx_buf_end,__zero_reg__
 592:../../../src/platform/firefly3/source/ulib.c ****    ENABLE_UART0_RX_INT();
 2404               	.LM215:
 2405 08e6 8091 C100 		lds r24,193
 2406 08ea 8068      		ori r24,lo8(-128)
 2407 08ec 8093 C100 		sts 193,r24
 2408 08f0 0895      		ret
 2410               	.Lscope22:
 2412               		.stabd	78,0,0
 2414               	.global	getc1
 2416               	getc1:
 2417               		.stabd	46,0,0
 593:../../../src/platform/firefly3/source/ulib.c **** #endif
 594:../../../src/platform/firefly3/source/ulib.c **** 
 595:../../../src/platform/firefly3/source/ulib.c **** }
 596:../../../src/platform/firefly3/source/ulib.c **** 
 597:../../../src/platform/firefly3/source/ulib.c **** 
 598:../../../src/platform/firefly3/source/ulib.c **** 
 599:../../../src/platform/firefly3/source/ulib.c **** /* get one char from uart */
 600:../../../src/platform/firefly3/source/ulib.c **** //char getc0(void){
 601:../../../src/platform/firefly3/source/ulib.c **** //	unsigned char tmp;
 602:../../../src/platform/firefly3/source/ulib.c **** //	UART0_WAIT_AND_RECEIVE(tmp);
 603:../../../src/platform/firefly3/source/ulib.c **** //	return tmp;
 604:../../../src/platform/firefly3/source/ulib.c **** //}
 605:../../../src/platform/firefly3/source/ulib.c **** 
 606:../../../src/platform/firefly3/source/ulib.c **** char getc1()
 607:../../../src/platform/firefly3/source/ulib.c **** {
 2419               	.LM216:
 2420               	.LFBB23:
 2421               	/* prologue: function */
 2422               	/* frame size = 0 */
 2423               	/* stack size = 0 */
 2424               	.L__stack_usage = 0
 2425               	.L163:
 608:../../../src/platform/firefly3/source/ulib.c **** char tmp;
 609:../../../src/platform/firefly3/source/ulib.c **** 
 610:../../../src/platform/firefly3/source/ulib.c **** UART1_WAIT_AND_RECEIVE(tmp);
 2427               	.LM217:
 2428 08f2 8091 C800 		lds r24,200
 2429 08f6 87FF      		sbrs r24,7
 2430 08f8 00C0      		rjmp .L163
 2432               	.LM218:
 2433 08fa 8091 C800 		lds r24,200
 2434 08fe 8F77      		andi r24,lo8(127)
 2435 0900 8093 C800 		sts 200,r24
 2436 0904 8091 CE00 		lds r24,206
 611:../../../src/platform/firefly3/source/ulib.c **** return tmp;
 612:../../../src/platform/firefly3/source/ulib.c **** }
 2438               	.LM219:
 2439 0908 0895      		ret
 2444               	.Lscope23:
 2446               		.stabd	78,0,0
 2447               		.section	.progmem.data,"a",@progbits
 2450               	__c.3125:
 2451 0000 7561 7274 		.string	"uart rx sig failed\r\n"
 2451      2072 7820 
 2451      7369 6720 
 2451      6661 696C 
 2451      6564 0D0A 
 2452               	.global	NRK_ADC_INPUT_7
 2453               		.section	.rodata
 2456               	NRK_ADC_INPUT_7:
 2457 0000 3D        		.byte	61
 2458               	.global	NRK_ADC_INPUT_6
 2461               	NRK_ADC_INPUT_6:
 2462 0001 35        		.byte	53
 2463               	.global	NRK_ADC_INPUT_5
 2466               	NRK_ADC_INPUT_5:
 2467 0002 2D        		.byte	45
 2468               	.global	NRK_ADC_INPUT_4
 2471               	NRK_ADC_INPUT_4:
 2472 0003 25        		.byte	37
 2473               	.global	NRK_ADC_INPUT_3
 2476               	NRK_ADC_INPUT_3:
 2477 0004 1D        		.byte	29
 2478               	.global	NRK_ADC_INPUT_2
 2481               	NRK_ADC_INPUT_2:
 2482 0005 15        		.byte	21
 2483               	.global	NRK_ADC_INPUT_1
 2486               	NRK_ADC_INPUT_1:
 2487 0006 0D        		.byte	13
 2488               	.global	NRK_ADC_INPUT_0
 2491               	NRK_ADC_INPUT_0:
 2492 0007 05        		.byte	5
 2493               	.global	NRK_PORTF_7
 2496               	NRK_PORTF_7:
 2497 0008 3D        		.byte	61
 2498               	.global	NRK_PORTF_6
 2501               	NRK_PORTF_6:
 2502 0009 35        		.byte	53
 2503               	.global	NRK_PORTF_5
 2506               	NRK_PORTF_5:
 2507 000a 2D        		.byte	45
 2508               	.global	NRK_PORTF_4
 2511               	NRK_PORTF_4:
 2512 000b 25        		.byte	37
 2513               	.global	NRK_PORTF_3
 2516               	NRK_PORTF_3:
 2517 000c 1D        		.byte	29
 2518               	.global	NRK_PORTF_2
 2521               	NRK_PORTF_2:
 2522 000d 15        		.byte	21
 2523               	.global	NRK_PORTF_1
 2526               	NRK_PORTF_1:
 2527 000e 0D        		.byte	13
 2528               	.global	NRK_PORTF_0
 2531               	NRK_PORTF_0:
 2532 000f 05        		.byte	5
 2533               	.global	NRK_PORTG_5
 2536               	NRK_PORTG_5:
 2537 0010 2E        		.byte	46
 2538               	.global	NRK_PORTG_4
 2541               	NRK_PORTG_4:
 2542 0011 26        		.byte	38
 2543               	.global	NRK_PORTG_3
 2546               	NRK_PORTG_3:
 2547 0012 1E        		.byte	30
 2548               	.global	NRK_PORTG_2
 2551               	NRK_PORTG_2:
 2552 0013 16        		.byte	22
 2553               	.global	NRK_PORTG_1
 2556               	NRK_PORTG_1:
 2557 0014 0E        		.byte	14
 2558               	.global	NRK_PORTG_0
 2561               	NRK_PORTG_0:
 2562 0015 06        		.byte	6
 2563               	.global	NRK_ANT_1
 2566               	NRK_ANT_1:
 2567 0016 FF        		.byte	-1
 2568               	.global	NRK_ANT_0
 2571               	NRK_ANT_0:
 2572 0017 FF        		.byte	-1
 2573               	.global	NRK_UART0_TXD
 2576               	NRK_UART0_TXD:
 2577 0018 0C        		.byte	12
 2578               	.global	NRK_UART0_RXD
 2581               	NRK_UART0_RXD:
 2582 0019 04        		.byte	4
 2583               	.global	NRK_PORTE_7
 2586               	NRK_PORTE_7:
 2587 001a 3C        		.byte	60
 2588               	.global	NRK_PORTE_6
 2591               	NRK_PORTE_6:
 2592 001b 34        		.byte	52
 2593               	.global	NRK_PORTE_5
 2596               	NRK_PORTE_5:
 2597 001c 2C        		.byte	44
 2598               	.global	NRK_PORTE_4
 2601               	NRK_PORTE_4:
 2602 001d 24        		.byte	36
 2603               	.global	NRK_PORTE_3
 2606               	NRK_PORTE_3:
 2607 001e 1C        		.byte	28
 2608               	.global	NRK_PORTE_2
 2611               	NRK_PORTE_2:
 2612 001f 14        		.byte	20
 2613               	.global	NRK_PORTE_1
 2616               	NRK_PORTE_1:
 2617 0020 0C        		.byte	12
 2618               	.global	NRK_PORTE_0
 2621               	NRK_PORTE_0:
 2622 0021 04        		.byte	4
 2623               	.global	NRK_LED_3
 2626               	NRK_LED_3:
 2627 0022 3B        		.byte	59
 2628               	.global	NRK_LED_2
 2631               	NRK_LED_2:
 2632 0023 33        		.byte	51
 2633               	.global	NRK_LED_1
 2636               	NRK_LED_1:
 2637 0024 2B        		.byte	43
 2638               	.global	NRK_LED_0
 2641               	NRK_LED_0:
 2642 0025 23        		.byte	35
 2643               	.global	NRK_UART1_TXD
 2646               	NRK_UART1_TXD:
 2647 0026 1B        		.byte	27
 2648               	.global	NRK_UART1_RXD
 2651               	NRK_UART1_RXD:
 2652 0027 13        		.byte	19
 2653               	.global	NRK_BUTTON
 2656               	NRK_BUTTON:
 2657 0028 0B        		.byte	11
 2658               	.global	NRK_PORTD_7
 2661               	NRK_PORTD_7:
 2662 0029 3B        		.byte	59
 2663               	.global	NRK_PORTD_6
 2666               	NRK_PORTD_6:
 2667 002a 33        		.byte	51
 2668               	.global	NRK_PORTD_5
 2671               	NRK_PORTD_5:
 2672 002b 2B        		.byte	43
 2673               	.global	NRK_PORTD_4
 2676               	NRK_PORTD_4:
 2677 002c 23        		.byte	35
 2678               	.global	NRK_PORTD_3
 2681               	NRK_PORTD_3:
 2682 002d 1B        		.byte	27
 2683               	.global	NRK_PORTD_2
 2686               	NRK_PORTD_2:
 2687 002e 13        		.byte	19
 2688               	.global	NRK_PORTD_1
 2691               	NRK_PORTD_1:
 2692 002f 0B        		.byte	11
 2693               	.global	NRK_PORTD_0
 2696               	NRK_PORTD_0:
 2697 0030 03        		.byte	3
 2698               	.global	NRK_PORTC_7
 2701               	NRK_PORTC_7:
 2702 0031 FF        		.byte	-1
 2703               	.global	NRK_PORTC_6
 2706               	NRK_PORTC_6:
 2707 0032 FF        		.byte	-1
 2708               	.global	NRK_PORTC_5
 2711               	NRK_PORTC_5:
 2712 0033 FF        		.byte	-1
 2713               	.global	NRK_PORTC_4
 2716               	NRK_PORTC_4:
 2717 0034 FF        		.byte	-1
 2718               	.global	NRK_PORTC_3
 2721               	NRK_PORTC_3:
 2722 0035 FF        		.byte	-1
 2723               	.global	NRK_PORTC_2
 2726               	NRK_PORTC_2:
 2727 0036 FF        		.byte	-1
 2728               	.global	NRK_PORTC_1
 2731               	NRK_PORTC_1:
 2732 0037 FF        		.byte	-1
 2733               	.global	NRK_PORTC_0
 2736               	NRK_PORTC_0:
 2737 0038 FF        		.byte	-1
 2738               	.global	NRK_PORTB_7
 2741               	NRK_PORTB_7:
 2742 0039 39        		.byte	57
 2743               	.global	NRK_PORTB_6
 2746               	NRK_PORTB_6:
 2747 003a 31        		.byte	49
 2748               	.global	NRK_PORTB_5
 2751               	NRK_PORTB_5:
 2752 003b 29        		.byte	41
 2753               	.global	NRK_PORTB_4
 2756               	NRK_PORTB_4:
 2757 003c 21        		.byte	33
 2758               	.global	NRK_PORTB_3
 2761               	NRK_PORTB_3:
 2762 003d 19        		.byte	25
 2763               	.global	NRK_PORTB_2
 2766               	NRK_PORTB_2:
 2767 003e 11        		.byte	17
 2768               	.global	NRK_PORTB_1
 2771               	NRK_PORTB_1:
 2772 003f 09        		.byte	9
 2773               	.global	NRK_PORTB_0
 2776               	NRK_PORTB_0:
 2777 0040 01        		.byte	1
 2778               	.global	NRK_MISO
 2781               	NRK_MISO:
 2782 0041 19        		.byte	25
 2783               	.global	NRK_MOSI
 2786               	NRK_MOSI:
 2787 0042 11        		.byte	17
 2788               	.global	NRK_SCK
 2791               	NRK_SCK:
 2792 0043 09        		.byte	9
 2793               	.global	NRK_SPI_SS
 2796               	NRK_SPI_SS:
 2797 0044 01        		.byte	1
 2798               	.global	NRK_DEBUG_3
 2801               	NRK_DEBUG_3:
 2802 0045 FF        		.byte	-1
 2803               	.global	NRK_DEBUG_2
 2806               	NRK_DEBUG_2:
 2807 0046 FF        		.byte	-1
 2808               	.global	NRK_DEBUG_1
 2811               	NRK_DEBUG_1:
 2812 0047 FF        		.byte	-1
 2813               	.global	NRK_DEBUG_0
 2816               	NRK_DEBUG_0:
 2817 0048 FF        		.byte	-1
 2818               	.global	NRK_PORTA_7
 2821               	NRK_PORTA_7:
 2822 0049 FF        		.byte	-1
 2823               	.global	NRK_PORTA_6
 2826               	NRK_PORTA_6:
 2827 004a FF        		.byte	-1
 2828               	.global	NRK_PORTA_5
 2831               	NRK_PORTA_5:
 2832 004b FF        		.byte	-1
 2833               	.global	NRK_PORTA_4
 2836               	NRK_PORTA_4:
 2837 004c FF        		.byte	-1
 2838               	.global	NRK_PORTA_3
 2841               	NRK_PORTA_3:
 2842 004d FF        		.byte	-1
 2843               	.global	NRK_PORTA_2
 2846               	NRK_PORTA_2:
 2847 004e FF        		.byte	-1
 2848               	.global	NRK_PORTA_1
 2851               	NRK_PORTA_1:
 2852 004f FF        		.byte	-1
 2853               	.global	NRK_PORTA_0
 2856               	NRK_PORTA_0:
 2857 0050 FF        		.byte	-1
 2858               		.local	uart_rx_signal
 2859               		.comm	uart_rx_signal,1,1
 2860               		.local	uart_rx_buf
 2861               		.comm	uart_rx_buf,16,1
 2862               		.local	uart_rx_buf_end
 2863               		.comm	uart_rx_buf_end,2,1
 2864               		.local	uart_rx_buf_start
 2865               		.comm	uart_rx_buf_start,2,1
 2866               		.comm	error_num,1,1
 2867               		.comm	error_task,1,1
 2868               		.comm	_nrk_signal_list,4,1
 2957               		.text
 2959               	.Letext0:
 2960               		.ident	"GCC: (GNU) 4.9.1"
 2961               	.global __do_copy_data
 2962               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:0000000000000000 ulib.c
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:4      *ABS*:000000000000003f __SREG__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:307    .text:0000000000000000 putc0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:336    .text:0000000000000018 __vector_25
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2861   .bss:0000000000000011 uart_rx_buf_end
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2859   .bss:0000000000000001 uart_rx_buf
                             .bss:0000000000000000 uart_rx_signal
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:451    .text:00000000000000be nrk_uart_data_ready
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2863   .bss:0000000000000013 uart_rx_buf_start
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:502    .text:00000000000000f0 nrk_uart_rx_signal_get
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:533    .text:0000000000000104 nrk_kprintf
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:586    .text:000000000000012e getc0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2450   .progmem.data:0000000000000000 __c.3125
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:667    .text:0000000000000198 PORT_INIT
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:703    .text:00000000000001ac nrk_setup_ports
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:723    .text:00000000000001b0 nrk_gpio_set
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:912    .text:0000000000000292 nrk_gpio_clr
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:1089   .text:0000000000000366 nrk_gpio_get
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:1191   .text:00000000000003ba nrk_gpio_toggle
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:1631   .text:00000000000005d0 nrk_gpio_direction
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:1984   .text:0000000000000784 nrk_get_button
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2020   .text:0000000000000798 nrk_led_toggle
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2084   .text:00000000000007c6 nrk_led_clr
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2148   .text:00000000000007f4 nrk_led_set
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2212   .text:0000000000000822 nrk_gpio_pullups
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2249   .text:0000000000000836 putc1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2275   .text:0000000000000844 setup_uart0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2313   .text:000000000000086e setup_uart1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2352   .text:0000000000000898 nrk_setup_uart
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2416   .text:00000000000008f2 getc1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2456   .rodata:0000000000000000 NRK_ADC_INPUT_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2461   .rodata:0000000000000001 NRK_ADC_INPUT_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2466   .rodata:0000000000000002 NRK_ADC_INPUT_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2471   .rodata:0000000000000003 NRK_ADC_INPUT_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2476   .rodata:0000000000000004 NRK_ADC_INPUT_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2481   .rodata:0000000000000005 NRK_ADC_INPUT_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2486   .rodata:0000000000000006 NRK_ADC_INPUT_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2491   .rodata:0000000000000007 NRK_ADC_INPUT_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2496   .rodata:0000000000000008 NRK_PORTF_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2501   .rodata:0000000000000009 NRK_PORTF_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2506   .rodata:000000000000000a NRK_PORTF_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2511   .rodata:000000000000000b NRK_PORTF_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2516   .rodata:000000000000000c NRK_PORTF_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2521   .rodata:000000000000000d NRK_PORTF_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2526   .rodata:000000000000000e NRK_PORTF_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2531   .rodata:000000000000000f NRK_PORTF_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2536   .rodata:0000000000000010 NRK_PORTG_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2541   .rodata:0000000000000011 NRK_PORTG_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2546   .rodata:0000000000000012 NRK_PORTG_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2551   .rodata:0000000000000013 NRK_PORTG_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2556   .rodata:0000000000000014 NRK_PORTG_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2561   .rodata:0000000000000015 NRK_PORTG_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2566   .rodata:0000000000000016 NRK_ANT_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2571   .rodata:0000000000000017 NRK_ANT_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2576   .rodata:0000000000000018 NRK_UART0_TXD
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2581   .rodata:0000000000000019 NRK_UART0_RXD
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2586   .rodata:000000000000001a NRK_PORTE_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2591   .rodata:000000000000001b NRK_PORTE_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2596   .rodata:000000000000001c NRK_PORTE_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2601   .rodata:000000000000001d NRK_PORTE_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2606   .rodata:000000000000001e NRK_PORTE_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2611   .rodata:000000000000001f NRK_PORTE_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2616   .rodata:0000000000000020 NRK_PORTE_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2621   .rodata:0000000000000021 NRK_PORTE_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2626   .rodata:0000000000000022 NRK_LED_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2631   .rodata:0000000000000023 NRK_LED_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2636   .rodata:0000000000000024 NRK_LED_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2641   .rodata:0000000000000025 NRK_LED_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2646   .rodata:0000000000000026 NRK_UART1_TXD
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2651   .rodata:0000000000000027 NRK_UART1_RXD
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2656   .rodata:0000000000000028 NRK_BUTTON
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2661   .rodata:0000000000000029 NRK_PORTD_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2666   .rodata:000000000000002a NRK_PORTD_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2671   .rodata:000000000000002b NRK_PORTD_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2676   .rodata:000000000000002c NRK_PORTD_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2681   .rodata:000000000000002d NRK_PORTD_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2686   .rodata:000000000000002e NRK_PORTD_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2691   .rodata:000000000000002f NRK_PORTD_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2696   .rodata:0000000000000030 NRK_PORTD_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2701   .rodata:0000000000000031 NRK_PORTC_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2706   .rodata:0000000000000032 NRK_PORTC_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2711   .rodata:0000000000000033 NRK_PORTC_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2716   .rodata:0000000000000034 NRK_PORTC_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2721   .rodata:0000000000000035 NRK_PORTC_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2726   .rodata:0000000000000036 NRK_PORTC_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2731   .rodata:0000000000000037 NRK_PORTC_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2736   .rodata:0000000000000038 NRK_PORTC_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2741   .rodata:0000000000000039 NRK_PORTB_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2746   .rodata:000000000000003a NRK_PORTB_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2751   .rodata:000000000000003b NRK_PORTB_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2756   .rodata:000000000000003c NRK_PORTB_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2761   .rodata:000000000000003d NRK_PORTB_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2766   .rodata:000000000000003e NRK_PORTB_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2771   .rodata:000000000000003f NRK_PORTB_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2776   .rodata:0000000000000040 NRK_PORTB_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2781   .rodata:0000000000000041 NRK_MISO
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2786   .rodata:0000000000000042 NRK_MOSI
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2791   .rodata:0000000000000043 NRK_SCK
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2796   .rodata:0000000000000044 NRK_SPI_SS
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2801   .rodata:0000000000000045 NRK_DEBUG_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2806   .rodata:0000000000000046 NRK_DEBUG_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2811   .rodata:0000000000000047 NRK_DEBUG_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2816   .rodata:0000000000000048 NRK_DEBUG_0
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2821   .rodata:0000000000000049 NRK_PORTA_7
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2826   .rodata:000000000000004a NRK_PORTA_6
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2831   .rodata:000000000000004b NRK_PORTA_5
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2836   .rodata:000000000000004c NRK_PORTA_4
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2841   .rodata:000000000000004d NRK_PORTA_3
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2846   .rodata:000000000000004e NRK_PORTA_2
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2851   .rodata:000000000000004f NRK_PORTA_1
/var/folders/57/dy66zcf543x9s42pt1yfw30r0000gn/T//ccNpTF45.s:2856   .rodata:0000000000000050 NRK_PORTA_0
                            *COM*:0000000000000001 error_num
                            *COM*:0000000000000001 error_task
                            *COM*:0000000000000004 _nrk_signal_list

UNDEFINED SYMBOLS
nrk_int_disable
nrk_event_signal
nrk_int_enable
nrk_error_add
__iob
fputc
nrk_signal_register
nrk_event_wait
__tablejump2__
fdevopen
nrk_signal_create
__do_copy_data
__do_clear_bss
